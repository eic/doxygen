<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=9" />
<title>EIC Software: EicRoot/blob/master/rich/qa/CbmRichGeoTest.cxx Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script> <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script> 
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-155388685-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-155388685-3');
</script>
</head>
<body>
	<div id="top">
		<!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr style="height: 56px;">
						<td id="projectlogo"><a href="https://eic.github.io/"><img
								alt="Logo" src="../../ion-collision-xparent-crop.png" height="100"/></a></td>
						<td style="padding-left: 0.5em;">
							<div id="projectname">
								EIC Software
							</div> 
							<div id="projectbrief">
								Reference for 
								<a href="https://eic.github.io/">EIC</a> 
								<a href="https://github.com/eic/">simulation and reconstruction software on GitHub</a>
							</div> 
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Home&#160;page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../usergroup0.html"><span>External&#160;Links</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('de/da9/CbmRichGeoTest_8cxx_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">CbmRichGeoTest.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../de/da9/CbmRichGeoTest_8cxx.html">Go to the documentation of this file.</a> Or view <a target="top" href="https://github.com/eic/EicRoot/blob/master/rich/qa/CbmRichGeoTest.cxx">the newest version in sPHENIX GitHub for file CbmRichGeoTest.cxx</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d42/CbmRichGeoTest_8h.html" title="RICH geometry checking and testing.">CbmRichGeoTest.h</a>&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d7a/CbmRichGeoTestStudyReport_8h.html" title="Creates study report for RICH geometry testing.">CbmRichGeoTestStudyReport.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d92/FairRootManager_8h.html">FairRootManager.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d6f/CbmRichHit_8h.html">CbmRichHit.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/dad/CbmRichRing_8h.html">CbmRichRing.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/dfd/CbmTrackMatch_8h.html">CbmTrackMatch.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d64/CbmMCTrack_8h.html">CbmMCTrack.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/d34/CbmRichPoint_8h.html">CbmRichPoint.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/da6/CbmRichRingFitterCOP_8h.html" title="Here the ring is fitted with the COP algorithm from A. Ayriyan/G. Ososkov.">CbmRichRingFitterCOP.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/dc8/CbmRichRingFitterEllipseTau_8h.html" title="Here the ring is fitted with Taubin algorithm from A. Ayriyan, G. Ososkov, N. Chernov.">CbmRichRingFitterEllipseTau.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/d92/CbmGeoRichPar_8h.html">CbmGeoRichPar.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d44/FairGeoTransform_8h.html">FairGeoTransform.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/df5/FairGeoNode_8h.html">FairGeoNode.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/d7c/FairRunAna_8h.html">FairRunAna.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/dac/FairRuntimeDb_8h.html">FairRuntimeDb.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/d78/CbmRichHitProducer_8h.html" title="Class for producing RICH hits directly from MCPoints.">CbmRichHitProducer.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/dc4/CbmDrawHist_8h.html" title="Helper functions for drawing 1D and 2D histograms and graphs.">CbmDrawHist.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/daf/CbmLitUtils_8h.html">std/utils/CbmLitUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/d3a/CbmRichConverter_8h.html" title="Convert internal data classes to cbmroot common data classes.">CbmRichConverter.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d23/CbmReport_8h.html">CbmReport.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d37/CbmStudyReport_8h.html" title="Base class for study reports.">CbmStudyReport.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;TH1D.h&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;TH2D.h&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;TH3D.h&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;TCanvas.h&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;TEllipse.h&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;TClonesArray.h&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;TMath.h&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;TPad.h&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;TLatex.h&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;TSystem.h&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;TStyle.h&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;TF1.h&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;TLegend.h&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &lt;iomanip&gt;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &lt;boost/assign/list_of.hpp&gt;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &lt;boost/property_tree/ptree.hpp&gt;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &lt;boost/property_tree/json_parser.hpp&gt;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">using namespace </span>std;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keyword">using</span> boost::assign::list_of;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">using</span> boost::property_tree::ptree;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a770419697c7063d11b38daa7042d91f1">   59</a></span>&#160;<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a770419697c7063d11b38daa7042d91f1" title="Standard constructor.">CbmRichGeoTest::CbmRichGeoTest</a>():</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;   <a class="code" href="../../d2/d9e/classFairTask.html">FairTask</a>(<span class="stringliteral">&quot;RichGeoTestQa&quot;</span>),</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;   fRichDetectorType(<span class="stringliteral">&quot;standard&quot;</span>),</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;   fOutputDir(<span class="stringliteral">&quot;&quot;</span>),</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;   fRichHits(NULL),</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;   fRichRings(NULL),</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;   fRichPoints(NULL),</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;   fMCTracks(NULL),</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;   fRichRingMatches(NULL),</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;   fDetZOrig(0.),</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;   fTheta(0.),</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;   fPhi(0.),</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;   fSensNodes(NULL),</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;   fPassNodes(NULL),</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;   fPar(NULL),</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;   fCopFit(NULL),</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;   fTauFit(NULL),</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;   fCanvas(),</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;   fEventNum(0),</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;   fMinNofHits(0),</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;   fhHitsXY(NULL),</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;   fhPointsXY(NULL),</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;   fhNofPhotonsPerHit(NULL),</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;   fhNofHits(),</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;   fhAaxisVsMom(),</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;   fhBaxisVsMom(),</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;   fhBoverA(),</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;   fhXcYcEllipse(),</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;   fhChi2EllipseVsMom(),</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;   fhXcYcCircle(),</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;   fhRadiusVsMom(),</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;   fhChi2CircleVsMom(),</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;   fhDRVsMom(),</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;   fhRadiusVsNofHits(NULL),</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;   fhAaxisVsNofHits(NULL),</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;   fhBaxisVsNofHits(NULL),</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;   fhDiffAaxis(NULL),</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;   fhDiffBaxis(NULL),</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;   fhDiffXcEllipse(NULL),</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;   fhDiffYcEllipse(NULL),</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;   fhDiffXcCircle(NULL),</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;   fhDiffYcCircle(NULL),</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;   fhDiffRadius(NULL),</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;   fhDiffXhit(NULL),</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;   fhDiffYhit(NULL),</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;   fMinAaxis(0.),</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;   fMaxAaxis(0.),</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;   fMinBaxis(0.),</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;   fMaxBaxis(0.),</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;   fMinRadius(0.),</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;   fMaxRadius(0.),</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;   fhNofHitsAll(NULL),</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;   fhNofHitsCircleFit(NULL),</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;   fhNofHitsEllipseFit(NULL),</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;   fhNofHitsCircleFitEff(NULL),</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;   fhNofHitsEllipseFitEff(NULL),</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;   fh_mc_mom_el(NULL),</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;   fh_mc_pty_el(NULL),</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;   fh_acc_mom_el(NULL),</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;   fh_acc_pty_el(NULL),</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;   fh_mc_mom_pi(NULL),</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   fh_mc_pty_pi(NULL),</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;   fh_acc_mom_pi(NULL),</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;   fh_acc_pty_pi(NULL),</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;   fhNofHitsXYZ(NULL),</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;   fhNofPointsXYZ(NULL),</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;   fhBoverAXYZ(NULL),</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;   fhBaxisXYZ(NULL),</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;   fhAaxisXYZ(NULL),</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;   fhRadiusXYZ(NULL),</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;   fhdRXYZ(NULL),</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;   fHists(),</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;   fNofDrawnRings(0)</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;{</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a7f1988d5a4adf83575d7a7400572f1ee">fEventNum</a> = 0;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a02f4bcf6ac50e4bb27b23cf8819a2f0d">fNofDrawnRings</a> = 0;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a21f53341542a9d97b266ba8b411229d1">fMinNofHits</a> = 7;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab3452016b1532bac7bc2464e3090a3c9">fMinAaxis</a> = 3.;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a67f73abcbe17f86ec4e96a1676b44ef7">fMaxAaxis</a> = 7.;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ad75000456f467522f852e10190d33207">fMinBaxis</a> = 3.;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4c23163b6b4175eea0dd884fbb325f7c">fMaxBaxis</a> = 7.;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a3085f90448d08a75e75d42dfd32a8ce1">fMinRadius</a> = 3.;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a37c4d17393b0d201e0129f171f451467">fMaxRadius</a> = 7.;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;}</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a12542e7c861af0b3723e8a41d41fe58c">  163</a></span>&#160;<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a12542e7c861af0b3723e8a41d41fe58c" title="Standard destructor.">CbmRichGeoTest::~CbmRichGeoTest</a>()</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;{</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a605aae43befd4fe00d3c66f634d9efc0">  168</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a605aae43befd4fe00d3c66f634d9efc0" title="SetParContainers.">CbmRichGeoTest::SetParContainers</a>()</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;{</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <a class="code" href="../../de/da9/classFairRunAna.html">FairRunAna</a>* ana = <a class="code" href="../../de/da9/classFairRunAna.html#a4de7f08c87479bf21bc2c3f267a72a19">FairRunAna::Instance</a>();</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <a class="code" href="../../d7/d6f/classFairRuntimeDb.html" title="list of container factories">FairRuntimeDb</a>* rtdb=ana-&gt;<a class="code" href="../../dd/dd2/classFairRun.html#a769c748079f470c6fb88bdddd2635e78">GetRuntimeDb</a>();</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aed9c1c231cb6ec0b5d49ac60b968f7d2">fPar</a>=(<a class="code" href="../../d0/da0/classCbmGeoRichPar.html">CbmGeoRichPar</a>*)(rtdb-&gt;<a class="code" href="../../d7/d6f/classFairRuntimeDb.html#abba88b5b8c7dc22de5a5d1136f0074fb">getContainer</a>(<span class="stringliteral">&quot;CbmGeoRichPar&quot;</span>));</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a90129ff21b406bf395f93145ca864b0a">  175</a></span>&#160;<a class="code" href="../../d8/d44/FairTask_8h.html#ac29def3095b23bd5d68cec73adacbf4c">InitStatus</a> <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a90129ff21b406bf395f93145ca864b0a" title="Inherited from FairTask.">CbmRichGeoTest::Init</a>()</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;{</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   cout &lt;&lt; <span class="stringliteral">&quot;CbmRichGeoTest::Init&quot;</span>&lt;&lt;endl;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   <a class="code" href="../../d0/d6c/classFairRootManager.html">FairRootManager</a>* ioman = <a class="code" href="../../d0/d6c/classFairRootManager.html#a830b7803b29e7424a75f2dc374dcc96b">FairRootManager::Instance</a>();</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   <span class="keywordflow">if</span> (NULL == ioman) { Fatal(<span class="stringliteral">&quot;CbmRichGeoTest::Init&quot;</span>,<span class="stringliteral">&quot;RootManager not instantised!&quot;</span>); }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#af523a4405a2e1d410cb5c97cef27667b">fRichDetectorType</a> == <span class="stringliteral">&quot;standard&quot;</span>) {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a9d6787fa32cf7df70a7d0f4a398c0e4e">fSensNodes</a> = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aed9c1c231cb6ec0b5d49ac60b968f7d2">fPar</a>-&gt;<a class="code" href="../../d0/da0/classCbmGeoRichPar.html#a9a5bf4e3458d0b6259981837d46b8e4f">GetGeoSensitiveNodes</a>();</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aa63d4301fc064704128118db51d7f7d0">fPassNodes</a> = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aed9c1c231cb6ec0b5d49ac60b968f7d2">fPar</a>-&gt;<a class="code" href="../../d0/da0/classCbmGeoRichPar.html#aa0461e9d8ac7d91b6d155bc84996065a">GetGeoPassiveNodes</a>();</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <span class="comment">// get detector position:</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      <a class="code" href="../../de/d30/classFairGeoNode.html">FairGeoNode</a> *det= <span class="keyword">dynamic_cast&lt;</span><a class="code" href="../../de/d30/classFairGeoNode.html">FairGeoNode</a>*<span class="keyword">&gt;</span> (<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a9d6787fa32cf7df70a7d0f4a398c0e4e">fSensNodes</a>-&gt;FindObject(<span class="stringliteral">&quot;rich1d#1&quot;</span>));</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <span class="keywordflow">if</span> (NULL == det) cout &lt;&lt; <span class="stringliteral">&quot; -I no RICH Geo Node  found !!!!!  &quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <a class="code" href="../../d1/d7a/classFairGeoTransform.html">FairGeoTransform</a>* detTr=det-&gt;<a class="code" href="../../de/d30/classFairGeoNode.html#a78bbd99691e8d9c3cea884972318e903">getLabTransform</a>(); <span class="comment">// detector position in labsystem</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      <a class="code" href="../../d3/d41/classFairGeoVector.html">FairGeoVector</a> detPosLab=detTr-&gt;<a class="code" href="../../d1/d7a/classFairGeoTransform.html#ad1d892f813f633aaac5f9aec2735d864">getTranslation</a>(); <span class="comment">// ... in cm</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <a class="code" href="../../d1/d7a/classFairGeoTransform.html">FairGeoTransform</a> detCen=det-&gt;<a class="code" href="../../de/d30/classFairGeoNode.html#a17f53a80b27fdd0fa617a838af58918b">getCenterPosition</a>(); <span class="comment">// center in Detector system</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <a class="code" href="../../d3/d41/classFairGeoVector.html">FairGeoVector</a> detPosCen=detCen.<a class="code" href="../../d1/d7a/classFairGeoTransform.html#ad1d892f813f633aaac5f9aec2735d864">getTranslation</a>();</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aa306c462c88d2567a3c0624319dccdfe">fDetZOrig</a> = detPosLab.<a class="code" href="../../d3/d41/classFairGeoVector.html#a01a7a0ab55a628b78873255c614b02fe">Z</a>() + detPosCen.<a class="code" href="../../d3/d41/classFairGeoVector.html#a01a7a0ab55a628b78873255c614b02fe">Z</a>(); <span class="comment">// z coordinate of photodetector (Labsystem, cm)</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      <a class="code" href="../../d0/d2a/classFairGeoRotation.html">FairGeoRotation</a> fdetR=detTr-&gt;<a class="code" href="../../d1/d7a/classFairGeoTransform.html#a1cbefc7c71f79c91e35a7144d1af16b9">getRotMatrix</a>();</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aa4ec66c19aed48d373780d05d7cc4e14">fTheta</a> = TMath::ASin(fdetR(7)); <span class="comment">// tilting angle around x-axis</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ae06b1ad03133d8aa741c4ccbc8135d42">fPhi</a> = -1.*TMath::ASin(fdetR(2)); <span class="comment">// tilting angle around y-axis</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;   }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a12ac57976f09e0beaccc2b759698f3ba">fRichHits</a> = (TClonesArray*) ioman-&gt;<a class="code" href="../../d0/d6c/classFairRootManager.html#abbbec76c83bcd0e1b78bef3c54e178eb">GetObject</a>(<span class="stringliteral">&quot;RichHit&quot;</span>);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;   <span class="keywordflow">if</span> ( NULL == <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a12ac57976f09e0beaccc2b759698f3ba">fRichHits</a>) { Fatal(<span class="stringliteral">&quot;CbmRichGeoTest::Init&quot;</span>,<span class="stringliteral">&quot;No RichHit array!&quot;</span>); }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a809d2f6453d2e2bfaca38ea3c948a356">fRichRings</a> = (TClonesArray*) ioman-&gt;<a class="code" href="../../d0/d6c/classFairRootManager.html#abbbec76c83bcd0e1b78bef3c54e178eb">GetObject</a>(<span class="stringliteral">&quot;RichRing&quot;</span>);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keywordflow">if</span> ( NULL == <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a809d2f6453d2e2bfaca38ea3c948a356">fRichRings</a>) { Fatal(<span class="stringliteral">&quot;CbmRichGeoTest::Init&quot;</span>,<span class="stringliteral">&quot;No RichRing array!&quot;</span>); }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a12723681d5210f5c749f20fa4cc3cdc1">fRichPoints</a> = (TClonesArray*) ioman-&gt;<a class="code" href="../../d0/d6c/classFairRootManager.html#abbbec76c83bcd0e1b78bef3c54e178eb">GetObject</a>(<span class="stringliteral">&quot;RichPoint&quot;</span>);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="keywordflow">if</span> ( NULL == <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a12723681d5210f5c749f20fa4cc3cdc1">fRichPoints</a>) { Fatal(<span class="stringliteral">&quot;CbmRichGeoTest::Init&quot;</span>,<span class="stringliteral">&quot;No RichPoint array!&quot;</span>); }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a0e05cf70226175fc9aa1b7be80dabeab">fMCTracks</a> = (TClonesArray*) ioman-&gt;<a class="code" href="../../d0/d6c/classFairRootManager.html#abbbec76c83bcd0e1b78bef3c54e178eb">GetObject</a>(<span class="stringliteral">&quot;MCTrack&quot;</span>);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keywordflow">if</span> ( NULL == <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a0e05cf70226175fc9aa1b7be80dabeab">fMCTracks</a>) { Fatal(<span class="stringliteral">&quot;CbmRichGeoTest::Init&quot;</span>,<span class="stringliteral">&quot;No MCTrack array!&quot;</span>); }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a88e7f20fb8f8561d85c376884e91c79c">fRichRingMatches</a> = (TClonesArray*) ioman-&gt;<a class="code" href="../../d0/d6c/classFairRootManager.html#abbbec76c83bcd0e1b78bef3c54e178eb">GetObject</a>(<span class="stringliteral">&quot;RichRingMatch&quot;</span>);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keywordflow">if</span> ( NULL == <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a88e7f20fb8f8561d85c376884e91c79c">fRichRingMatches</a>) { Fatal(<span class="stringliteral">&quot;CbmRichGeoTest::Init&quot;</span>,<span class="stringliteral">&quot;No RichRingMatch array!&quot;</span>); }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#acbc111493933deb4fec2ea5473a476a9">fCopFit</a> = <span class="keyword">new</span> <a class="code" href="../../d1/d8d/classCbmRichRingFitterCOP.html" title="Here the ring is fitted with the COP algorithm from A. Ayriyan/G. Ososkov.">CbmRichRingFitterCOP</a>();</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a8aed47c53ee20c91e718f99228c9bc99">fTauFit</a> = <span class="keyword">new</span> <a class="code" href="../../d2/d8f/classCbmRichRingFitterEllipseTau.html" title="Here the ring is fitted with Taubin algorithm from A. Ayriyan, G. Ososkov, N. Chernov.">CbmRichRingFitterEllipseTau</a>();</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a53c81a5122f3c64f4fe986a0cbd6450c" title="Initialize histograms.">InitHistograms</a>();</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d8/d44/FairTask_8h.html#ac29def3095b23bd5d68cec73adacbf4cafa564a89be7228b8e404430df2d6d06c">kSUCCESS</a>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div>
<div class="line"><a name="l00223"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a9d5e890887411e04eb97219b7fa6c191">  223</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a9d5e890887411e04eb97219b7fa6c191" title="Inherited from FairTask.">CbmRichGeoTest::Exec</a>(</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      Option_t* option)</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;{</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a7f1988d5a4adf83575d7a7400572f1ee">fEventNum</a>++;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  cout &lt;&lt; <span class="stringliteral">&quot;CbmRichGeoTest, event No. &quot;</span> &lt;&lt;  <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a7f1988d5a4adf83575d7a7400572f1ee">fEventNum</a> &lt;&lt; endl;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#adaab9117d4312415a3d712f2e1bc33d2" title="Fill MC histogram for detector acceptance calculation.">FillMcHist</a>();</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a3877e9706c0d5764a48e943b355830cf" title="Loop over all rings in array and fill ring parameters histograms.">RingParameters</a>();</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ac4e85945a0e59eb8e5b24852dec35e2d" title="Calculate residuals between hits and MC points and fill histograms.">HitsAndPoints</a>();</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a53c81a5122f3c64f4fe986a0cbd6450c">  233</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a53c81a5122f3c64f4fe986a0cbd6450c" title="Initialize histograms.">CbmRichGeoTest::InitHistograms</a>()</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;{</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   <span class="keywordtype">double</span> xMin = -110.;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;   <span class="keywordtype">double</span> xMax = 110.;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;   <span class="keywordtype">int</span> nBinsX = 28;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;   <span class="keywordtype">double</span> yMin = -200;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;   <span class="keywordtype">double</span> yMax = 200.;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;   <span class="keywordtype">int</span> nBinsY = 40;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#af523a4405a2e1d410cb5c97cef27667b">fRichDetectorType</a> == <span class="stringliteral">&quot;prototype&quot;</span>){</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      xMin = -10.;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      xMax = 10.;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      nBinsX = 50;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      yMin = 25.;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      yMax = 45.;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      nBinsY = 50;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;   }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4570aab53afa2cfe172efe0a9974757c">fhHitsXY</a> = <span class="keyword">new</span> TH2D(<span class="stringliteral">&quot;fhHitsXY&quot;</span>, <span class="stringliteral">&quot;fhHitsXY;X [cm];Y [cm];Counter&quot;</span>, nBinsX, xMin, xMax, nBinsY, yMin, yMax);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4570aab53afa2cfe172efe0a9974757c">fhHitsXY</a>);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab427dbd4a1c74f0a1f34d858bf1c00c5">fhPointsXY</a> = <span class="keyword">new</span> TH2D(<span class="stringliteral">&quot;fhPointsXY&quot;</span>, <span class="stringliteral">&quot;fhPointsXY;X [cm];Y [cm];Counter&quot;</span>, nBinsX, xMin, xMax, nBinsY, yMin, yMax);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab427dbd4a1c74f0a1f34d858bf1c00c5">fhPointsXY</a>);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#af877c43b47721c54ff0ef5e86cb2964e">fhNofHits</a>.resize(2);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a19e70be6a8e7c2a6404b563bed76747e">fhBoverA</a>.resize(2);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#af38143cf3221a1f9f2fd853eb613b475">fhXcYcEllipse</a>.resize(2);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a7d876918ee3c176d1628a9ec1e2f3b47">fhXcYcCircle</a>.resize(2);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a7efc41b197a918522099840991675c16">fhBaxisVsMom</a>.resize(2);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aa1d1c022702ac964252ac452ed5fdfbc">fhAaxisVsMom</a>.resize(2);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a9c36ba0c0c4b2c6bbca9522728d2f670">fhRadiusVsMom</a>.resize(2);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a80082e698d6181ec24985818a63472df">fhChi2EllipseVsMom</a>.resize(2);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab66229150f7bbd68770e390520138de1">fhChi2CircleVsMom</a>.resize(2);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a2d2bb9d035b5cda9b72e748be6d05020">fhDRVsMom</a>.resize(2);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   <span class="keywordflow">for</span> (Int_t i = 0; i &lt; 2; i++){</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      stringstream ss;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <span class="keywordflow">if</span> (i == 0) ss &lt;&lt; <span class="stringliteral">&quot;_hits&quot;</span>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <span class="keywordflow">if</span> (i == 1) ss &lt;&lt; <span class="stringliteral">&quot;_points&quot;</span>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <span class="keywordtype">string</span> <a class="code" href="../../d4/d68/HelixHough__kappaRange__sse_8cpp.html#aaccc9105df5383111407fd5b41255e23">t</a> = ss.str();</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#af877c43b47721c54ff0ef5e86cb2964e">fhNofHits</a>[i] = <span class="keyword">new</span> TH1D((<span class="stringliteral">&quot;fhNofHits&quot;</span>+t).c_str(), (<span class="stringliteral">&quot;fhNofHits&quot;</span>+t+<span class="stringliteral">&quot;;Nof hits in ring;Yield&quot;</span>).c_str(), 300, -.5, 299.5);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#af877c43b47721c54ff0ef5e86cb2964e">fhNofHits</a>[i]);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <span class="comment">// ellipse fitting parameters</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a19e70be6a8e7c2a6404b563bed76747e">fhBoverA</a>[i] = <span class="keyword">new</span> TH1D((<span class="stringliteral">&quot;fhBoverA&quot;</span>+t).c_str(), (<span class="stringliteral">&quot;fhBoverA&quot;</span>+t+<span class="stringliteral">&quot;;B/A;Yield&quot;</span>).c_str(), 50, 0, 1);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a19e70be6a8e7c2a6404b563bed76747e">fhBoverA</a>[i]);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#af38143cf3221a1f9f2fd853eb613b475">fhXcYcEllipse</a>[i] = <span class="keyword">new</span> TH2D((<span class="stringliteral">&quot;fhXcYcEllipse&quot;</span>+t).c_str(), (<span class="stringliteral">&quot;fhXcYcEllipse&quot;</span>+t+<span class="stringliteral">&quot;;x [cm];y [cm];Yield&quot;</span>).c_str(), nBinsX, xMin, xMax, nBinsY, yMin, yMax);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#af38143cf3221a1f9f2fd853eb613b475">fhXcYcEllipse</a>[i]);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a7efc41b197a918522099840991675c16">fhBaxisVsMom</a>[i] = <span class="keyword">new</span> TH2D((<span class="stringliteral">&quot;fhBaxisVsMom&quot;</span>+t).c_str(), (<span class="stringliteral">&quot;fhBaxisVsMom&quot;</span>+t+<span class="stringliteral">&quot;;p [GeV/c];B axis [cm];Yield&quot;</span>).c_str(), 100, 0., 10, 200, 0., 10.);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a7efc41b197a918522099840991675c16">fhBaxisVsMom</a>[i]);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aa1d1c022702ac964252ac452ed5fdfbc">fhAaxisVsMom</a>[i] = <span class="keyword">new</span> TH2D((<span class="stringliteral">&quot;fhAaxisVsMom&quot;</span>+t).c_str(), (<span class="stringliteral">&quot;fhAaxisVsMom&quot;</span>+t+<span class="stringliteral">&quot;;p [GeV/c];A axis [cm];Yield&quot;</span>).c_str(), 100, 0., 10, 200, 0., 10.);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aa1d1c022702ac964252ac452ed5fdfbc">fhAaxisVsMom</a>[i]);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a80082e698d6181ec24985818a63472df">fhChi2EllipseVsMom</a>[i] = <span class="keyword">new</span> TH2D((<span class="stringliteral">&quot;fhChi2EllipseVsMom&quot;</span>+t).c_str(), (<span class="stringliteral">&quot;fhChi2EllipseVsMom&quot;</span>+t+<span class="stringliteral">&quot;;p [GeV/c];#Chi^{2};Yield&quot;</span>).c_str(), 100, 0., 10., 50, 0., 0.5);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a80082e698d6181ec24985818a63472df">fhChi2EllipseVsMom</a>[i]);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <span class="comment">// circle fitting parameters</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a7d876918ee3c176d1628a9ec1e2f3b47">fhXcYcCircle</a>[i] = <span class="keyword">new</span> TH2D((<span class="stringliteral">&quot;fhXcYcCircle&quot;</span>+t).c_str(), (<span class="stringliteral">&quot;fhXcYcCircle&quot;</span>+t+<span class="stringliteral">&quot;;x [cm];y [cm];Yield&quot;</span>).c_str(), nBinsX, xMin, xMax, nBinsY, yMin, yMax);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a7d876918ee3c176d1628a9ec1e2f3b47">fhXcYcCircle</a>[i]);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a9c36ba0c0c4b2c6bbca9522728d2f670">fhRadiusVsMom</a>[i] = <span class="keyword">new</span> TH2D((<span class="stringliteral">&quot;fhRadiusVsMom&quot;</span>+t).c_str(), (<span class="stringliteral">&quot;fhRadiusVsMom&quot;</span>+t+<span class="stringliteral">&quot;;p [GeV/c];Radius [cm];Yield&quot;</span>).c_str(), 100, 0., 10, 200, 0., 10.);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a9c36ba0c0c4b2c6bbca9522728d2f670">fhRadiusVsMom</a>[i]);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab66229150f7bbd68770e390520138de1">fhChi2CircleVsMom</a>[i] = <span class="keyword">new</span> TH2D((<span class="stringliteral">&quot;fhChi2CircleVsMom&quot;</span>+t).c_str(), (<span class="stringliteral">&quot;fhChi2CircleVsMom&quot;</span>+t+<span class="stringliteral">&quot;;p [GeV/c];#Chi^{2};Yield&quot;</span>).c_str(), 100, 0., 10., 50, 0., .5);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab66229150f7bbd68770e390520138de1">fhChi2CircleVsMom</a>[i]);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a2d2bb9d035b5cda9b72e748be6d05020">fhDRVsMom</a>[i] = <span class="keyword">new</span> TH2D((<span class="stringliteral">&quot;fhDRVsMom&quot;</span>+t).c_str(), (<span class="stringliteral">&quot;fhDRVsMom&quot;</span>+t+<span class="stringliteral">&quot;;p [GeV/c];dR [cm];Yield&quot;</span>).c_str(), 100, 0, 10, 100, -1., 1.);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a2d2bb9d035b5cda9b72e748be6d05020">fhDRVsMom</a>[i]);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;   }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a00b7900df3f72ea4b29f459d931c4cd3">fhNofPhotonsPerHit</a> = <span class="keyword">new</span> TH1D(<span class="stringliteral">&quot;fhNofPhotonsPerHit&quot;</span>, <span class="stringliteral">&quot;fhNofPhotonsPerHit;Number of photons per hit;Yield&quot;</span>, 10, -0.5, 9.5);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a00b7900df3f72ea4b29f459d931c4cd3">fhNofPhotonsPerHit</a>);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;   <span class="comment">// Difference between Mc Points and Hits fitting.</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#acd76c587e985df9ab78e3f894349ae9a">fhDiffAaxis</a> = <span class="keyword">new</span> TH2D(<span class="stringliteral">&quot;fhDiffAaxis&quot;</span>, <span class="stringliteral">&quot;fhDiffAaxis;Nof hits in ring;A_{point}-A_{hit} [cm];Yield&quot;</span>, 40, 0., 40., 100, -1.5, 1.5);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#acd76c587e985df9ab78e3f894349ae9a">fhDiffAaxis</a>);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a66455ab0d49911af6bcfbde3e5da76d6">fhDiffBaxis</a> = <span class="keyword">new</span> TH2D(<span class="stringliteral">&quot;fhDiffBaxis&quot;</span>, <span class="stringliteral">&quot;fhDiffBaxis;Nof hits in ring;B_{point}-B_{hit} [cm];Yield&quot;</span>, 40, 0., 40., 100, -1.5, 1.5);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a66455ab0d49911af6bcfbde3e5da76d6">fhDiffBaxis</a>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a7e431d267384cdbbd749570d7239befb">fhDiffXcEllipse</a> = <span class="keyword">new</span> TH2D(<span class="stringliteral">&quot;fhDiffXcEllipse&quot;</span>, <span class="stringliteral">&quot;fhDiffXcEllipse;Nof hits in ring;Xc_{point}-Xc_{hit} [cm];Yield&quot;</span>, 40, 0., 40., 100, -1.5, 1.5);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a7e431d267384cdbbd749570d7239befb">fhDiffXcEllipse</a>);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a1fdb5b36fb7c393190ce58e8c69d4e50">fhDiffYcEllipse</a> = <span class="keyword">new</span> TH2D(<span class="stringliteral">&quot;fhDiffYcEllipse&quot;</span>, <span class="stringliteral">&quot;fhDiffYcEllipse;Nof hits in ring;Yc_{point}-Yc_{hit} [cm];Yield&quot;</span>, 40, 0., 40., 100, -1.5, 1.5);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a1fdb5b36fb7c393190ce58e8c69d4e50">fhDiffYcEllipse</a>);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a37dd1b502f72f42f6db10e6c9aeb79b5">fhDiffXcCircle</a> = <span class="keyword">new</span> TH2D(<span class="stringliteral">&quot;fhDiffXcCircle&quot;</span>, <span class="stringliteral">&quot;fhDiffXcCircle;Nof hits in ring;Xc_{point}-Xc_{hit} [cm];Yield&quot;</span>, 40, 0., 40., 100, -1.5, 1.5);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a37dd1b502f72f42f6db10e6c9aeb79b5">fhDiffXcCircle</a>);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aa864c127c0490b9174ed4657cf41a1ce">fhDiffYcCircle</a> = <span class="keyword">new</span> TH2D(<span class="stringliteral">&quot;fhDiffYcCircle&quot;</span>, <span class="stringliteral">&quot;fhDiffYcCircle;Nof hits in ring;Yc_{point}-Yc_{hit} [cm];Yield&quot;</span>, 40, 0., 40., 100, -1.5, 1.5);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aa864c127c0490b9174ed4657cf41a1ce">fhDiffYcCircle</a>);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#abc87c508b3ca895b6c908e4ad69a1817">fhDiffRadius</a> = <span class="keyword">new</span> TH2D(<span class="stringliteral">&quot;fhDiffRadius&quot;</span>, <span class="stringliteral">&quot;fhDiffRadius;Nof hits in ring;Radius_{point}-Radius_{hit} [cm];Yield&quot;</span>, 40, 0., 40., 100, -1.5, 1.5);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#abc87c508b3ca895b6c908e4ad69a1817">fhDiffRadius</a>);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;   <span class="comment">// R, A, B distribution for different number of hits from 0 to 40.</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a68dadabfcdb979bfcfe966c7300a8676">fhRadiusVsNofHits</a> = <span class="keyword">new</span> TH2D(<span class="stringliteral">&quot;fhRadiusVsNofHits&quot;</span>, <span class="stringliteral">&quot;fhRadiusVsNofHits;Nof hits in ring;Radius [cm];Yield&quot;</span>, 40, 0., 40., 100, 0., 10.);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a5f3670c2d7721b496d5a45d4fd229de8">fhAaxisVsNofHits</a> = <span class="keyword">new</span> TH2D(<span class="stringliteral">&quot;fhAaxisVsNofHits&quot;</span>, <span class="stringliteral">&quot;fhAaxisVsNofHits;Nof hits in ring;A axis [cm];Yield&quot;</span>, 40, 0., 40., 100, 0., 10.);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab2822e749dffa3e7866e563e4e287255">fhBaxisVsNofHits</a> = <span class="keyword">new</span> TH2D(<span class="stringliteral">&quot;fhBaxisVsNofHits&quot;</span>, <span class="stringliteral">&quot;fhBaxisVsNofHits;Nof hits in ring;B axis [cm];Yield&quot;</span>, 40, 0., 40., 100, 0., 10.);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;   <span class="comment">// Hits and points.</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab015baabb4c5342cf9eba212dbd13cb">fhDiffXhit</a> = <span class="keyword">new</span> TH1D(<span class="stringliteral">&quot;fhDiffXhit&quot;</span>, <span class="stringliteral">&quot;fhDiffXhit;Y_{point}-Y_{hit} [cm];Yield&quot;</span>, 200, -1., 1.);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab015baabb4c5342cf9eba212dbd13cb">fhDiffXhit</a>);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a8d6d9460bb27872b45a00307811d5d8e">fhDiffYhit</a> = <span class="keyword">new</span> TH1D(<span class="stringliteral">&quot;fhDiffYhit&quot;</span>, <span class="stringliteral">&quot;fhDiffYhit;Y_{point}-Y_{hit} [cm];Yield&quot;</span>, 200, -1., 1.);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a8d6d9460bb27872b45a00307811d5d8e">fhDiffYhit</a>);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;   <span class="comment">// Fitting efficiency.</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ac2dba2b4a0f8cea3e56a1d89b53ff9a7">fhNofHitsAll</a> = <span class="keyword">new</span> TH1D(<span class="stringliteral">&quot;fhNofHitsAll&quot;</span>, <span class="stringliteral">&quot;fhNofHitsAll;Nof hits in ring;Yield&quot;</span>, 50, 0., 50.);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ac2dba2b4a0f8cea3e56a1d89b53ff9a7">fhNofHitsAll</a>);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a8171c2923ba6cd81d75b22d883059081">fhNofHitsCircleFit</a> = <span class="keyword">new</span> TH1D(<span class="stringliteral">&quot;fhNofHitsCircleFit&quot;</span>, <span class="stringliteral">&quot;fhNofHitsCircleFit;Nof hits in ring;Yield&quot;</span>, 50, 0., 50.);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a8171c2923ba6cd81d75b22d883059081">fhNofHitsCircleFit</a>);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aa2c3a59d7f8569d6b5a43f29d6861b18">fhNofHitsEllipseFit</a> = <span class="keyword">new</span> TH1D(<span class="stringliteral">&quot;fhNofHitsEllipseFit&quot;</span>, <span class="stringliteral">&quot;fhNofHitsEllipseFit;Nof hits in ring;Yield&quot;</span>, 50, 0., 50.);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aa2c3a59d7f8569d6b5a43f29d6861b18">fhNofHitsEllipseFit</a>);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a33917c0d2be262c4b5c6f179b9befe73">fhNofHitsCircleFitEff</a> = <span class="keyword">new</span> TH1D(<span class="stringliteral">&quot;fhNofHitsCircleFitEff&quot;</span>, <span class="stringliteral">&quot;fhNofHitsCircleFitEff;Nof hits in ring;Efficiency [%]&quot;</span>, 50, 0., 50.);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a33917c0d2be262c4b5c6f179b9befe73">fhNofHitsCircleFitEff</a>);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a40ccbd5c74051a28c68f6dd981632aff">fhNofHitsEllipseFitEff</a> = <span class="keyword">new</span> TH1D(<span class="stringliteral">&quot;fhNofHitsEllipseFitEff&quot;</span>, <span class="stringliteral">&quot;fhNofHitsEllipseFitEff;Nof hits in ring;Efficiency [%]&quot;</span>, 50, 0., 50.);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a40ccbd5c74051a28c68f6dd981632aff">fhNofHitsEllipseFitEff</a>);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;   <span class="comment">// Detector acceptance efficiency vs. (pt,y) and p</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#af2b44a5f4efc756f9e186b1e49425354">fh_mc_mom_el</a> = <span class="keyword">new</span> TH1D(<span class="stringliteral">&quot;fh_mc_mom_el&quot;</span>, <span class="stringliteral">&quot;fh_mc_mom_el;p [GeV/c];Yield&quot;</span>, 24, 0., 12.);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#af2b44a5f4efc756f9e186b1e49425354">fh_mc_mom_el</a>);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab9f05a854fe052434fcadc86813cfd9e">fh_mc_pty_el</a> = <span class="keyword">new</span> TH2D(<span class="stringliteral">&quot;fh_mc_pty_el&quot;</span>, <span class="stringliteral">&quot;fh_mc_pty_el;Rapidity;P_{t} [GeV/c];Yield&quot;</span>, 25, 0., 4., 20, 0., 3.);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab9f05a854fe052434fcadc86813cfd9e">fh_mc_pty_el</a>);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a359af4e90f871134335223e65019814b">fh_acc_mom_el</a> = <span class="keyword">new</span> TH1D(<span class="stringliteral">&quot;fh_acc_mom_el&quot;</span>, <span class="stringliteral">&quot;fh_acc_mom_el;p [GeV/c];Yield&quot;</span>, 24, 0., 12.);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a359af4e90f871134335223e65019814b">fh_acc_mom_el</a>);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a0f7b76c31179699fed2c4829e0d04e00">fh_acc_pty_el</a> = <span class="keyword">new</span> TH2D(<span class="stringliteral">&quot;fh_acc_pty_el&quot;</span>, <span class="stringliteral">&quot;fh_acc_pty_el;Rapidity;P_{t} [GeV/c];Yield&quot;</span>,25, 0., 4., 20, 0., 3.);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a0f7b76c31179699fed2c4829e0d04e00">fh_acc_pty_el</a>);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a74ea74c49880f76de2bf57b13bfd5afd">fh_mc_mom_pi</a> = <span class="keyword">new</span> TH1D(<span class="stringliteral">&quot;fh_mc_mom_pi&quot;</span>, <span class="stringliteral">&quot;fh_mc_mom_pi;p [GeV/c];Yield&quot;</span>, 24, 0., 12.);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a74ea74c49880f76de2bf57b13bfd5afd">fh_mc_mom_pi</a>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a40e214df4f506b4b6863122df564338d">fh_mc_pty_pi</a> = <span class="keyword">new</span> TH2D(<span class="stringliteral">&quot;fh_mc_pty_pi&quot;</span>, <span class="stringliteral">&quot;fh_mc_pty_pi;Rapidity;P_{t} [GeV/c];Yield&quot;</span>, 25, 0., 4., 20, 0., 3.);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a40e214df4f506b4b6863122df564338d">fh_mc_pty_pi</a>);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a231fcb91e4955af70b8674c6aab9a50c">fh_acc_mom_pi</a> = <span class="keyword">new</span> TH1D(<span class="stringliteral">&quot;fh_acc_mom_pi&quot;</span>, <span class="stringliteral">&quot;fh_acc_mom_pi;p [GeV/c];Yield&quot;</span>, 24, 0., 12.);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a231fcb91e4955af70b8674c6aab9a50c">fh_acc_mom_pi</a>);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a23e65e69db194bae75ee5957205d4409">fh_acc_pty_pi</a> = <span class="keyword">new</span> TH2D(<span class="stringliteral">&quot;fh_acc_pty_pi&quot;</span>, <span class="stringliteral">&quot;fh_acc_pty_pi;Rapidity;P_{t} [GeV/c];Yield&quot;</span>, 25, 0., 4., 20, 0., 3.);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a23e65e69db194bae75ee5957205d4409">fh_acc_pty_pi</a>);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;   <span class="comment">// Numbers in dependence on XY position onto the photodetector.</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#afcb0d5d5d051768d7449c35e78ad46dc">fhNofHitsXYZ</a> = <span class="keyword">new</span> TH3D(<span class="stringliteral">&quot;fhNofHitsXY&quot;</span>, <span class="stringliteral">&quot;fhNofHitsXY;X [cm];Y [cm];Nof hits in ring&quot;</span>, nBinsX, xMin, xMax, nBinsY, yMin, yMax, 50, 0., 50);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#afcb0d5d5d051768d7449c35e78ad46dc">fhNofHitsXYZ</a>);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a61d2ad12d6f381fdb2c29987b271363f">fhNofPointsXYZ</a> = <span class="keyword">new</span> TH3D(<span class="stringliteral">&quot;fhNofPointsXYZ&quot;</span>, <span class="stringliteral">&quot;fhNofPointsXYZ;X [cm];Y [cm];Nof points in ring&quot;</span>, nBinsX, xMin, xMax, nBinsY, yMin, yMax, 50, 100., 300.);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a61d2ad12d6f381fdb2c29987b271363f">fhNofPointsXYZ</a>);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a09906f8218cfc80f0a2d0076033e7b4d">fhBoverAXYZ</a> = <span class="keyword">new</span> TH3D(<span class="stringliteral">&quot;fhBoverAXYZ&quot;</span>, <span class="stringliteral">&quot;fhBoverAXYZ;X [cm];Y [cm];B/A&quot;</span>, nBinsX, xMin, xMax, nBinsY, yMin, yMax, 50, 0., 1.);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a09906f8218cfc80f0a2d0076033e7b4d">fhBoverAXYZ</a>);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab0d3c7383ca57bc01bb873255a98e8f8">fhBaxisXYZ</a> = <span class="keyword">new</span> TH3D(<span class="stringliteral">&quot;fhBaxisXYZ&quot;</span>, <span class="stringliteral">&quot;fhBaxisXYZ;X [cm];Y [cm];B axis [cm]&quot;</span>, nBinsX, xMin, xMax, nBinsY, yMin, yMax, 80, 3., 7.);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab0d3c7383ca57bc01bb873255a98e8f8">fhBaxisXYZ</a>);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a6507222007f4e1f7a161af0003a5c699">fhAaxisXYZ</a> = <span class="keyword">new</span> TH3D(<span class="stringliteral">&quot;fhAaxisXYZ&quot;</span>, <span class="stringliteral">&quot;fhAaxisXYZ;X [cm];Y [cm];A axis [cm]&quot;</span>, nBinsX, xMin, xMax, nBinsY, yMin, yMax, 80, 3., 7.);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a6507222007f4e1f7a161af0003a5c699">fhAaxisXYZ</a>);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a5e415fd249fefa39e4e8df493b0c083d">fhRadiusXYZ</a> = <span class="keyword">new</span> TH3D(<span class="stringliteral">&quot;fhRadiusXYZ&quot;</span>, <span class="stringliteral">&quot;fhRadiusXYZ;X [cm];Y [cm];Radius [cm]&quot;</span>, nBinsX, xMin, xMax, nBinsY, yMin, yMax, 80, 3., 7.);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a5e415fd249fefa39e4e8df493b0c083d">fhRadiusXYZ</a>);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aca27816a9171cd8fae31e6b3db6a5938">fhdRXYZ</a> = <span class="keyword">new</span> TH3D(<span class="stringliteral">&quot;fhdRXYZ&quot;</span>, <span class="stringliteral">&quot;fhdRXYZ;X [cm];Y [cm];dR [cm]&quot;</span>, nBinsX, xMin, xMax, nBinsY, yMin, yMax, 100, -1., 1.);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.push_back(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aca27816a9171cd8fae31e6b3db6a5938">fhdRXYZ</a>);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a54d17a166ae23d4dc26acd7026653f1e" title="Temporary function for summary plots drawing.">DrawSummaryPlotsTemp</a>();</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;}</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a54d17a166ae23d4dc26acd7026653f1e">  372</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a54d17a166ae23d4dc26acd7026653f1e" title="Temporary function for summary plots drawing.">CbmRichGeoTest::DrawSummaryPlotsTemp</a>()</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;{</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;   TCanvas *<a class="code" href="../../d8/d00/RungeKuttaRequest_8cxx.html#a8a289ed190008419ee49288535be093d">c1</a> = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(<span class="stringliteral">&quot;chi2_mean_fit_vs_bfield_scale&quot;</span>, <span class="stringliteral">&quot;chi2_mean_fit_vs_bfield_scale&quot;</span>, 600, 600);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;   Double_t <a class="code" href="../../d4/d51/vector__math__inline_8h.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a>[6]={0.2, 0.5, 0.7, 1., 1.5, 2.0};</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;   Double_t y1[6]={0.023, 0.031, 0.034, 0.039, 0.039, 0.045};</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;   TGraph* gr1 = <span class="keyword">new</span> TGraph(6, x, y1);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;   gr1-&gt;GetXaxis()-&gt;SetTitle(<span class="stringliteral">&quot;Field scales&quot;</span>);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;   gr1-&gt;GetYaxis()-&gt;SetTitle(<span class="stringliteral">&quot;a_{fit}^{#Chi^{2}.mean}&quot;</span>);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;   TF1 *f1 = <span class="keyword">new</span> TF1(<span class="stringliteral">&quot;f1&quot;</span>, <span class="stringliteral">&quot;[0]*x+[1]&quot;</span>, 0., 2.1);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;   f1-&gt;SetLineColor(kBlack);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;   gr1-&gt;GetXaxis()-&gt;SetRangeUser(0.1, 2.1);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#aa7be99bf6d56dbc20ae5459372addb55">DrawGraph</a>(gr1, <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#af0de4d576e2e7680b5f7feea90a8f152ac188c019178783e5be55110601309d7d">kLinear</a>, <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#af0de4d576e2e7680b5f7feea90a8f152ac188c019178783e5be55110601309d7d">kLinear</a>, <span class="stringliteral">&quot;AP&quot;</span>);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;   gr1-&gt;SetMarkerColor(4);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;   gr1-&gt;SetMarkerSize(2.5);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;   gr1-&gt;SetMarkerStyle(21);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;   gr1-&gt;Fit(f1, <span class="stringliteral">&quot;RQ&quot;</span>);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;   gr1-&gt;GetXaxis()-&gt;SetRangeUser(0.1, 2.1);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;   f1-&gt;SetLineColor(kBlack);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;   <span class="keywordtype">double</span> p0 = f1-&gt;GetParameter(0);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;   <span class="keywordtype">double</span> p1 = f1-&gt;GetParameter(1);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;   stringstream ss;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   ss.precision(3);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;   ss &lt;&lt; <span class="stringliteral">&quot;y=&quot;</span>&lt;&lt;<a class="code" href="../../de/d27/namespacelit.html#af6a03673b1305866db7f29c94ac560a1">lit::NumberToString</a>(p0, 1)&lt;&lt;<span class="stringliteral">&quot;*x+&quot;</span>&lt;&lt;<a class="code" href="../../de/d27/namespacelit.html#af6a03673b1305866db7f29c94ac560a1">lit::NumberToString</a>(p1, 1);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;   TLegend* <a class="code" href="../../db/d5d/test__style_8C.html#a5dcd1d1376a077de14f84bb875207fb2">leg</a> = <span class="keyword">new</span> TLegend(0.15, 0.9, 0.85, 0.99);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;   leg-&gt;AddEntry(<span class="keyword">new</span> TH2D(), ss.str().c_str(), <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;   leg-&gt;SetFillColor(kWhite);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;   leg-&gt;SetFillStyle(0);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;   leg-&gt;SetBorderSize(0);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;   leg-&gt;Draw();</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   TCanvas *<a class="code" href="../../db/d5d/test__style_8C.html#ab4054a35faf3253141237ffcdba622b4">c2</a> = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(<span class="stringliteral">&quot;dr_rms_fit_vs_bfield_scale&quot;</span>, <span class="stringliteral">&quot;dr_rms_fit_vs_bfield_scale&quot;</span>, 600, 600);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;   Double_t <a class="code" href="../../d4/d51/vector__math__inline_8h.html#aab2463cd078f7c5368f6eb80f5a549b8">x2</a>[6]={0.2, 0.5, 0.7, 1., 1.5, 2.0};</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;   Double_t y2[6]={0.027, 0.04, 0.05, 0.057, 0.074, 0.08};</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;   TGraph* gr2 = <span class="keyword">new</span> TGraph(6, x2, y2);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;   gr2-&gt;GetXaxis()-&gt;SetTitle(<span class="stringliteral">&quot;Field scales&quot;</span>);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;   gr2-&gt;GetYaxis()-&gt;SetTitle(<span class="stringliteral">&quot;a_{fit}^{dR.RMS}&quot;</span>);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;   TF1 *<a class="code" href="../../db/d5d/test__style_8C.html#a2513fe0eb0478642e44ad1201af61a46">f2</a> = <span class="keyword">new</span> TF1(<span class="stringliteral">&quot;f2&quot;</span>, <span class="stringliteral">&quot;[0]*x+[1]&quot;</span>, 0., 2.1);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;   f2-&gt;SetLineColor(kBlack);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#aa7be99bf6d56dbc20ae5459372addb55">DrawGraph</a>(gr2, <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#af0de4d576e2e7680b5f7feea90a8f152ac188c019178783e5be55110601309d7d">kLinear</a>, <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#af0de4d576e2e7680b5f7feea90a8f152ac188c019178783e5be55110601309d7d">kLinear</a>, <span class="stringliteral">&quot;AP&quot;</span>);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;   gr2-&gt;SetMarkerColor(4);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;   gr2-&gt;SetMarkerSize(2.5);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;   gr2-&gt;SetMarkerStyle(21);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;   gr2-&gt;Fit(f2, <span class="stringliteral">&quot;RQ&quot;</span>);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;   gr2-&gt;GetXaxis()-&gt;SetRange(0., 2.1);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;   f2-&gt;SetLineColor(kBlack);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;   <span class="keywordtype">double</span> p10 = f2-&gt;GetParameter(0);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;   <span class="keywordtype">double</span> p11 = f2-&gt;GetParameter(1);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;   stringstream ss2;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   ss2 &lt;&lt; <span class="stringliteral">&quot;y=&quot;</span>&lt;&lt;<a class="code" href="../../de/d27/namespacelit.html#af6a03673b1305866db7f29c94ac560a1">lit::NumberToString</a>(p10, 1)&lt;&lt;<span class="stringliteral">&quot;*x+&quot;</span>&lt;&lt;<a class="code" href="../../de/d27/namespacelit.html#af6a03673b1305866db7f29c94ac560a1">lit::NumberToString</a>(p11, 1);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;   TLegend* leg2 = <span class="keyword">new</span> TLegend(0.15, 0.9, 0.85, 0.99);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;   leg2-&gt;AddEntry(<span class="keyword">new</span> TH2D(), ss2.str().c_str(), <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;   leg2-&gt;SetFillColor(kWhite);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;   leg2-&gt;SetFillStyle(0);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;   leg2-&gt;SetBorderSize(0);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;   leg2-&gt;Draw();</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;}</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div>
<div class="line"><a name="l00430"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#adaab9117d4312415a3d712f2e1bc33d2">  430</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#adaab9117d4312415a3d712f2e1bc33d2" title="Fill MC histogram for detector acceptance calculation.">CbmRichGeoTest::FillMcHist</a>()</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;{</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;   <span class="keywordflow">for</span> (Int_t i = 0; i &lt; <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a0e05cf70226175fc9aa1b7be80dabeab">fMCTracks</a>-&gt;GetEntriesFast(); i++){</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <a class="code" href="../../d0/d00/classCbmMCTrack.html">CbmMCTrack</a>* mcTrack = (<a class="code" href="../../d0/d00/classCbmMCTrack.html">CbmMCTrack</a>*)<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a0e05cf70226175fc9aa1b7be80dabeab">fMCTracks</a>-&gt;At(i);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <span class="keywordflow">if</span> (!mcTrack) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      Int_t motherId = mcTrack-&gt;<a class="code" href="../../d0/d00/classCbmMCTrack.html#abd25ba063b46c886b488b6ae46a4f471">GetMotherId</a>();</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      Int_t <a class="code" href="../../d2/dcb/InteractionsTests_8cpp.html#a93b525da5da3899ea33c735f5288a9af">pdg</a> = TMath::Abs(mcTrack-&gt;<a class="code" href="../../d0/d00/classCbmMCTrack.html#a108b6f955d89628794280f1c83489783">GetPdgCode</a>());</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      <span class="keywordflow">if</span> (pdg == 11 &amp;&amp; motherId == -1){</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;         <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#af2b44a5f4efc756f9e186b1e49425354">fh_mc_mom_el</a>-&gt;Fill(mcTrack-&gt;<a class="code" href="../../d0/d00/classCbmMCTrack.html#ae7d34a46e237c9ec9a82083f949313f7">GetP</a>());</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;         <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab9f05a854fe052434fcadc86813cfd9e">fh_mc_pty_el</a>-&gt;Fill(mcTrack-&gt;<a class="code" href="../../d0/d00/classCbmMCTrack.html#a203bcd520340914d640f5c2170dea7cd">GetRapidity</a>(), mcTrack-&gt;<a class="code" href="../../d0/d00/classCbmMCTrack.html#a9a626aeb2dc2695132eb04ba99d0af6d">GetPt</a>());</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      <span class="keywordflow">if</span> (pdg == 211 &amp;&amp; motherId == -1){</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;         <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a74ea74c49880f76de2bf57b13bfd5afd">fh_mc_mom_pi</a>-&gt;Fill(mcTrack-&gt;<a class="code" href="../../d0/d00/classCbmMCTrack.html#ae7d34a46e237c9ec9a82083f949313f7">GetP</a>());</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;         <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a40e214df4f506b4b6863122df564338d">fh_mc_pty_pi</a>-&gt;Fill(mcTrack-&gt;<a class="code" href="../../d0/d00/classCbmMCTrack.html#a203bcd520340914d640f5c2170dea7cd">GetRapidity</a>(), mcTrack-&gt;<a class="code" href="../../d0/d00/classCbmMCTrack.html#a9a626aeb2dc2695132eb04ba99d0af6d">GetPt</a>());</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      }</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;   }</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;}</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div>
<div class="line"><a name="l00450"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a3877e9706c0d5764a48e943b355830cf">  450</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a3877e9706c0d5764a48e943b355830cf" title="Loop over all rings in array and fill ring parameters histograms.">CbmRichGeoTest::RingParameters</a>()</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;{</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  Int_t nofRings = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a809d2f6453d2e2bfaca38ea3c948a356">fRichRings</a>-&gt;GetEntriesFast();</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="keywordflow">for</span> (Int_t iR = 0; iR &lt; nofRings; iR++){</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <a class="code" href="../../dc/d9e/classCbmRichRing.html">CbmRichRing</a> *ring = (<a class="code" href="../../dc/d9e/classCbmRichRing.html">CbmRichRing</a>*) <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a809d2f6453d2e2bfaca38ea3c948a356">fRichRings</a>-&gt;At(iR);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">if</span> (NULL == ring) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <a class="code" href="../../d3/d78/classCbmTrackMatch.html">CbmTrackMatch</a>* ringMatch = (<a class="code" href="../../d3/d78/classCbmTrackMatch.html">CbmTrackMatch</a>*) <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a88e7f20fb8f8561d85c376884e91c79c">fRichRingMatches</a>-&gt;At(iR);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">if</span> (NULL == ringMatch) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    Int_t mcTrackId = ringMatch-&gt;<a class="code" href="../../d3/d78/classCbmTrackMatch.html#a16a940c85ccec06145cbbb810a7554c8">GetMCTrackId</a>();</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">if</span> (mcTrackId &lt; 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="code" href="../../d0/d00/classCbmMCTrack.html">CbmMCTrack</a>* mcTrack = (<a class="code" href="../../d0/d00/classCbmMCTrack.html">CbmMCTrack</a>*)<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a0e05cf70226175fc9aa1b7be80dabeab">fMCTracks</a>-&gt;At(mcTrackId);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">if</span> (!mcTrack) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    Int_t motherId = mcTrack-&gt;<a class="code" href="../../d0/d00/classCbmMCTrack.html#abd25ba063b46c886b488b6ae46a4f471">GetMotherId</a>();</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    Int_t <a class="code" href="../../d2/dcb/InteractionsTests_8cpp.html#a93b525da5da3899ea33c735f5288a9af">pdg</a> = TMath::Abs(mcTrack-&gt;<a class="code" href="../../d0/d00/classCbmMCTrack.html#a108b6f955d89628794280f1c83489783">GetPdgCode</a>());</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    Double_t <a class="code" href="../../d2/dcb/InteractionsTests_8cpp.html#ae8c383eee21959418ab07be9d62b43cb">momentum</a> = mcTrack-&gt;<a class="code" href="../../d0/d00/classCbmMCTrack.html#ae7d34a46e237c9ec9a82083f949313f7">GetP</a>();</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      Double_t pt = mcTrack-&gt;<a class="code" href="../../d0/d00/classCbmMCTrack.html#a9a626aeb2dc2695132eb04ba99d0af6d">GetPt</a>();</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      Double_t rapidity = mcTrack-&gt;<a class="code" href="../../d0/d00/classCbmMCTrack.html#a203bcd520340914d640f5c2170dea7cd">GetRapidity</a>();</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">if</span> (ring-&gt;<a class="code" href="../../dc/d9e/classCbmRichRing.html#a07ef5492b731a22b87060e5249fd96ee">GetNofHits</a>() &gt;= <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a21f53341542a9d97b266ba8b411229d1">fMinNofHits</a>){</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="keywordflow">if</span> (pdg == 11 &amp;&amp; motherId == -1){</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;           <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a359af4e90f871134335223e65019814b">fh_acc_mom_el</a>-&gt;Fill(momentum);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;           <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a0f7b76c31179699fed2c4829e0d04e00">fh_acc_pty_el</a>-&gt;Fill(rapidity, pt);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        }</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="keywordflow">if</span> (pdg == 211 &amp;&amp; motherId == -1){</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a231fcb91e4955af70b8674c6aab9a50c">fh_acc_mom_pi</a>-&gt;Fill(momentum);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a23e65e69db194bae75ee5957205d4409">fh_acc_pty_pi</a>-&gt;Fill(rapidity, pt);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordflow">if</span> (pdg != 11 || motherId != -1) <span class="keywordflow">continue</span>; <span class="comment">// only primary electrons</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <a class="code" href="../../de/d89/classCbmRichRingLight.html">CbmRichRingLight</a> ringPoint;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordtype">int</span> nofRichPoints = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a12723681d5210f5c749f20fa4cc3cdc1">fRichPoints</a>-&gt;GetEntriesFast();</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iPoint = 0; iPoint &lt; nofRichPoints; iPoint++){</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;       <a class="code" href="../../de/d57/classCbmRichPoint.html">CbmRichPoint</a>* richPoint = (<a class="code" href="../../de/d57/classCbmRichPoint.html">CbmRichPoint</a>*) <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a12723681d5210f5c749f20fa4cc3cdc1">fRichPoints</a>-&gt;At(iPoint);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;       <span class="keywordflow">if</span> (NULL == richPoint) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;       Int_t trackId = richPoint-&gt;<a class="code" href="../../dc/d28/classFairMCPoint.html#af904f7dad7aa46dc91a0fc612e71bb73" title="event identifier">GetTrackID</a>();</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;       <span class="keywordflow">if</span> (trackId &lt; 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <a class="code" href="../../d0/d00/classCbmMCTrack.html">CbmMCTrack</a>* mcTrackRich = (<a class="code" href="../../d0/d00/classCbmMCTrack.html">CbmMCTrack</a>*)<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a0e05cf70226175fc9aa1b7be80dabeab">fMCTracks</a>-&gt;At(trackId);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="keywordflow">if</span> (NULL == mcTrackRich) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <span class="keywordtype">int</span> motherIdRich = mcTrackRich-&gt;<a class="code" href="../../d0/d00/classCbmMCTrack.html#abd25ba063b46c886b488b6ae46a4f471">GetMotherId</a>();</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;       <span class="keywordflow">if</span> (motherIdRich == mcTrackId){</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;          TVector3 posPoint;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;          richPoint-&gt;<a class="code" href="../../dc/d28/classFairMCPoint.html#a0949a92900370ab5d7d80b4f01843aee">Position</a>(posPoint);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;          TVector3 detPoint;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;          <span class="comment">//cout &lt;&lt; &quot;phi= &quot; &lt;&lt; fPhi &lt;&lt; &quot; fTheta = &quot; &lt;&lt; fTheta &lt;&lt; &quot; fDetZOrig = &quot; &lt;&lt; fDetZOrig &lt;&lt; endl;</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;          <a class="code" href="../../da/d9f/classCbmRichHitProducer.html#afac25abb4f242aab98833b1d60049094">CbmRichHitProducer::TiltPoint</a>(&amp;posPoint, &amp;detPoint, <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ae06b1ad03133d8aa741c4ccbc8135d42">fPhi</a>, <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aa4ec66c19aed48d373780d05d7cc4e14">fTheta</a>, <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aa306c462c88d2567a3c0624319dccdfe">fDetZOrig</a>);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;          <a class="code" href="../../d3/d9d/classCbmRichHitLight.html">CbmRichHitLight</a> hit(detPoint.X(), detPoint.Y());</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;          ringPoint.<a class="code" href="../../de/d89/classCbmRichRingLight.html#ab9fbb35cafa00b8f9bc76e005536421b" title="Add new hit to the ring.">AddHit</a>(hit);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;       }</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    }</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;     <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ac2dba2b4a0f8cea3e56a1d89b53ff9a7">fhNofHitsAll</a>-&gt;Fill(ring-&gt;<a class="code" href="../../dc/d9e/classCbmRichRing.html#a07ef5492b731a22b87060e5249fd96ee">GetNofHits</a>());</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;     <a class="code" href="../../de/d89/classCbmRichRingLight.html">CbmRichRingLight</a> ringHit;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;     <a class="code" href="../../d5/d99/classCbmRichConverter.html#ac656c5037798f232d3b92e44c8ab4176" title="Copy hits from CbmRichRing to CbmRichRingLight.">CbmRichConverter::CopyHitsToRingLight</a>(ring, &amp;ringHit);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aecbf42a965ee8ef8aa38e135a3462bac" title="Fit ring using circle fitter and fill histograms.">FitAndFillHistCircle</a>(0, &amp;ringHit, momentum); <span class="comment">//hits</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aecbf42a965ee8ef8aa38e135a3462bac" title="Fit ring using circle fitter and fill histograms.">FitAndFillHistCircle</a>(1, &amp;ringPoint, momentum); <span class="comment">// points</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a2f659dc25c700da38bfe23c0a5454ef9" title="Calculate difference between circle parameters for two fittings using hits and MC points for fit and ...">FillMcVsHitFitCircle</a>(&amp;ringHit, &amp;ringPoint);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      <span class="keywordtype">double</span> r = ringHit.<a class="code" href="../../de/d89/classCbmRichRingLight.html#a7075628216df426788b864369f6d9c61">GetRadius</a>();</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      <span class="keywordtype">double</span> xc = ringHit.<a class="code" href="../../de/d89/classCbmRichRingLight.html#aa919c6cf5b852f0b89f0aee7ac8e1573">GetCenterX</a>();</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      <span class="keywordtype">double</span> yc = ringHit.<a class="code" href="../../de/d89/classCbmRichRingLight.html#a410d6c9513ea5dde4f59660898139aa7">GetCenterY</a>();</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      <span class="keywordflow">if</span> (ringHit.<a class="code" href="../../de/d89/classCbmRichRingLight.html#a7075628216df426788b864369f6d9c61">GetRadius</a>() &gt; <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a3085f90448d08a75e75d42dfd32a8ce1">fMinRadius</a> &amp;&amp; ringHit.<a class="code" href="../../de/d89/classCbmRichRingLight.html#a7075628216df426788b864369f6d9c61">GetRadius</a>() &lt; <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a37c4d17393b0d201e0129f171f451467">fMaxRadius</a>){</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;         <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a8171c2923ba6cd81d75b22d883059081">fhNofHitsCircleFit</a>-&gt;Fill(ringHit.<a class="code" href="../../de/d89/classCbmRichRingLight.html#ad45c397b52a7882866e354cfcd2c1bd6" title="Return number of hits in ring.">GetNofHits</a>());</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      }</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a02f4bcf6ac50e4bb27b23cf8819a2f0d">fNofDrawnRings</a> &lt; 10 &amp;&amp; ringHit.<a class="code" href="../../de/d89/classCbmRichRingLight.html#ad45c397b52a7882866e354cfcd2c1bd6" title="Return number of hits in ring.">GetNofHits</a>() &lt;= 500){</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ae05794279a435a7f2e75b76a18ee768c" title="Draw ring in separate TCanvas.">DrawRing</a>(&amp;ringHit, &amp;ringPoint);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;     }</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#abbc0d8b45eab85acbc07506987dfbb4e" title="Fit ring using ellipse fitter and fill histograms.">FitAndFillHistEllipse</a>(0, &amp;ringHit, momentum);<span class="comment">// hits</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#abbc0d8b45eab85acbc07506987dfbb4e" title="Fit ring using ellipse fitter and fill histograms.">FitAndFillHistEllipse</a>(1, &amp;ringPoint, momentum); <span class="comment">// points</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a77706fcedffdbeb66b692a9da8a46d7e" title="Calculate difference between ellipse parameters for two fitting using hits and MC points for fit and ...">FillMcVsHitFitEllipse</a>(&amp;ringHit, &amp;ringPoint);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;     <span class="keywordflow">if</span> (ringHit.<a class="code" href="../../de/d89/classCbmRichRingLight.html#a7bea967c0a79889d5547fd6ad762ddac">GetAaxis</a>() &gt; <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab3452016b1532bac7bc2464e3090a3c9">fMinAaxis</a> &amp;&amp; ringHit.<a class="code" href="../../de/d89/classCbmRichRingLight.html#a7bea967c0a79889d5547fd6ad762ddac">GetAaxis</a>() &lt; <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a67f73abcbe17f86ec4e96a1676b44ef7">fMaxAaxis</a></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;         &amp;&amp;  ringHit.<a class="code" href="../../de/d89/classCbmRichRingLight.html#a354eba46248ef5a37d2ac0fba10331ad">GetBaxis</a>() &gt; <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ad75000456f467522f852e10190d33207">fMinBaxis</a> &amp;&amp; ringHit.<a class="code" href="../../de/d89/classCbmRichRingLight.html#a7bea967c0a79889d5547fd6ad762ddac">GetAaxis</a>() &lt; <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4c23163b6b4175eea0dd884fbb325f7c">fMaxBaxis</a> ){</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aa2c3a59d7f8569d6b5a43f29d6861b18">fhNofHitsEllipseFit</a>-&gt;Fill(ringHit.<a class="code" href="../../de/d89/classCbmRichRingLight.html#ad45c397b52a7882866e354cfcd2c1bd6" title="Return number of hits in ring.">GetNofHits</a>());</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;         <span class="keywordtype">double</span> np = ringPoint.<a class="code" href="../../de/d89/classCbmRichRingLight.html#ad45c397b52a7882866e354cfcd2c1bd6" title="Return number of hits in ring.">GetNofHits</a>();</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;         <span class="keywordtype">double</span> a = ringHit.<a class="code" href="../../de/d89/classCbmRichRingLight.html#a7bea967c0a79889d5547fd6ad762ddac">GetAaxis</a>();</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;         <span class="keywordtype">double</span> b = ringHit.<a class="code" href="../../de/d89/classCbmRichRingLight.html#a354eba46248ef5a37d2ac0fba10331ad">GetBaxis</a>();</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;         <span class="keywordtype">double</span> nh = ring-&gt;<a class="code" href="../../dc/d9e/classCbmRichRing.html#a07ef5492b731a22b87060e5249fd96ee">GetNofHits</a>();</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;         <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#afcb0d5d5d051768d7449c35e78ad46dc">fhNofHitsXYZ</a>-&gt;Fill(xc, yc, nh);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;         <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a61d2ad12d6f381fdb2c29987b271363f">fhNofPointsXYZ</a>-&gt;Fill(xc, yc, np);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;         <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a09906f8218cfc80f0a2d0076033e7b4d">fhBoverAXYZ</a>-&gt;Fill(xc, yc, b/a);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;         <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab0d3c7383ca57bc01bb873255a98e8f8">fhBaxisXYZ</a>-&gt;Fill(xc, yc, b);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;         <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a6507222007f4e1f7a161af0003a5c699">fhAaxisXYZ</a>-&gt;Fill(xc, yc, a);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;         <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a5e415fd249fefa39e4e8df493b0c083d">fhRadiusXYZ</a>-&gt;Fill(xc, yc, r);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iH = 0; iH &lt; ringHit.<a class="code" href="../../de/d89/classCbmRichRingLight.html#ad45c397b52a7882866e354cfcd2c1bd6" title="Return number of hits in ring.">GetNofHits</a>(); iH++){</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            <span class="keywordtype">double</span> xh = ringHit.<a class="code" href="../../de/d89/classCbmRichRingLight.html#ac2451e7309a97a6ac4e8d49796e60ac9" title="Return hit by the index.">GetHit</a>(iH).<a class="code" href="../../d3/d9d/classCbmRichHitLight.html#a90e815f46ef6d478eafb46184bb6e76f">fX</a>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            <span class="keywordtype">double</span> yh = ringHit.<a class="code" href="../../de/d89/classCbmRichRingLight.html#ac2451e7309a97a6ac4e8d49796e60ac9" title="Return hit by the index.">GetHit</a>(iH).<a class="code" href="../../d3/d9d/classCbmRichHitLight.html#a1f5711a58219540b64dfc66160a3a17c">fY</a>;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            <span class="keywordtype">double</span> dr = r - sqrt((xc - xh)*(xc - xh) + (yc - yh)*(yc - yh));</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aca27816a9171cd8fae31e6b3db6a5938">fhdRXYZ</a>-&gt;Fill(xc, yc, dr);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;         }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;     }</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  }<span class="comment">// iR</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;}</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div>
<div class="line"><a name="l00553"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#abbc0d8b45eab85acbc07506987dfbb4e">  553</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#abbc0d8b45eab85acbc07506987dfbb4e" title="Fit ring using ellipse fitter and fill histograms.">CbmRichGeoTest::FitAndFillHistEllipse</a>(</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <span class="keywordtype">int</span> histIndex,</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      <a class="code" href="../../de/d89/classCbmRichRingLight.html">CbmRichRingLight</a>* ring,</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      <span class="keywordtype">double</span> <a class="code" href="../../d2/dcb/InteractionsTests_8cpp.html#ae8c383eee21959418ab07be9d62b43cb">momentum</a>)</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;{</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a8aed47c53ee20c91e718f99228c9bc99">fTauFit</a>-&gt;<a class="code" href="../../d2/d8f/classCbmRichRingFitterEllipseTau.html#a2cb8f2f8f011d5eda54dc7c2b9902f4a" title="Inherited from CbmRichRingFitterBase.">DoFit</a>(ring);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;   <span class="keywordtype">double</span> axisA = ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#a7bea967c0a79889d5547fd6ad762ddac">GetAaxis</a>();</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;   <span class="keywordtype">double</span> axisB = ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#a354eba46248ef5a37d2ac0fba10331ad">GetBaxis</a>();</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;   <span class="keywordtype">double</span> xcEllipse = ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#aa919c6cf5b852f0b89f0aee7ac8e1573">GetCenterX</a>();</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;   <span class="keywordtype">double</span> ycEllipse = ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#a410d6c9513ea5dde4f59660898139aa7">GetCenterY</a>();</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;   <span class="keywordtype">int</span> nofHitsRing = ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#ad45c397b52a7882866e354cfcd2c1bd6" title="Return number of hits in ring.">GetNofHits</a>();</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;   <span class="keywordflow">if</span> (axisA &gt; <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab3452016b1532bac7bc2464e3090a3c9">fMinAaxis</a> &amp;&amp; axisA &lt; fMaxAaxis &amp;&amp;  axisB &gt; <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ad75000456f467522f852e10190d33207">fMinBaxis</a> &amp;&amp; axisB &lt; <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4c23163b6b4175eea0dd884fbb325f7c">fMaxBaxis</a> ){</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a19e70be6a8e7c2a6404b563bed76747e">fhBoverA</a>[histIndex]-&gt;Fill(axisB/axisA);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#af38143cf3221a1f9f2fd853eb613b475">fhXcYcEllipse</a>[histIndex]-&gt;Fill(xcEllipse, ycEllipse);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;   }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#af877c43b47721c54ff0ef5e86cb2964e">fhNofHits</a>[histIndex]-&gt;Fill(nofHitsRing);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a7efc41b197a918522099840991675c16">fhBaxisVsMom</a>[histIndex]-&gt;Fill(momentum, axisB);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aa1d1c022702ac964252ac452ed5fdfbc">fhAaxisVsMom</a>[histIndex]-&gt;Fill(momentum, axisA);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a80082e698d6181ec24985818a63472df">fhChi2EllipseVsMom</a>[histIndex]-&gt;Fill(momentum, ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#a78abf276ad9b4e81849afc5930602335">GetChi2</a>()/ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#ad45c397b52a7882866e354cfcd2c1bd6" title="Return number of hits in ring.">GetNofHits</a>());</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;   <span class="keywordflow">if</span> (histIndex == 0){ <span class="comment">// only hit fit</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a5f3670c2d7721b496d5a45d4fd229de8">fhAaxisVsNofHits</a>-&gt;Fill(nofHitsRing, axisA);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab2822e749dffa3e7866e563e4e287255">fhBaxisVsNofHits</a>-&gt;Fill(nofHitsRing, axisB);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;   }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;}</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div>
<div class="line"><a name="l00578"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aecbf42a965ee8ef8aa38e135a3462bac">  578</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aecbf42a965ee8ef8aa38e135a3462bac" title="Fit ring using circle fitter and fill histograms.">CbmRichGeoTest::FitAndFillHistCircle</a>(</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      <span class="keywordtype">int</span> histIndex,</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <a class="code" href="../../de/d89/classCbmRichRingLight.html">CbmRichRingLight</a>* ring,</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      <span class="keywordtype">double</span> <a class="code" href="../../d2/dcb/InteractionsTests_8cpp.html#ae8c383eee21959418ab07be9d62b43cb">momentum</a>)</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;{</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#acbc111493933deb4fec2ea5473a476a9">fCopFit</a>-&gt;<a class="code" href="../../d1/d8d/classCbmRichRingFitterCOP.html#a7d89b2ee77f85e61810847380cb5ffae" title="Inherited from CbmRichRingFitterBase.">DoFit</a>(ring);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;   <span class="keywordtype">double</span> <a class="code" href="../../db/df0/namespaceG4BECAL.html#abf59ce918b18e93ad18139bb283e04da">radius</a> = ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#a7075628216df426788b864369f6d9c61">GetRadius</a>();</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;   <span class="keywordtype">double</span> xcCircle = ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#aa919c6cf5b852f0b89f0aee7ac8e1573">GetCenterX</a>();</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;   <span class="keywordtype">double</span> ycCircle = ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#a410d6c9513ea5dde4f59660898139aa7">GetCenterY</a>();</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;   <span class="keywordtype">int</span> nofHitsRing = ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#ad45c397b52a7882866e354cfcd2c1bd6" title="Return number of hits in ring.">GetNofHits</a>();</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a7d876918ee3c176d1628a9ec1e2f3b47">fhXcYcCircle</a>[histIndex]-&gt;Fill(xcCircle, ycCircle);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a9c36ba0c0c4b2c6bbca9522728d2f670">fhRadiusVsMom</a>[histIndex]-&gt;Fill(momentum, radius);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab66229150f7bbd68770e390520138de1">fhChi2CircleVsMom</a>[histIndex]-&gt;Fill(momentum, ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#a78abf276ad9b4e81849afc5930602335">GetChi2</a>()/ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#ad45c397b52a7882866e354cfcd2c1bd6" title="Return number of hits in ring.">GetNofHits</a>());</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iH = 0; iH &lt; ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#ad45c397b52a7882866e354cfcd2c1bd6" title="Return number of hits in ring.">GetNofHits</a>(); iH++){</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      <span class="keywordtype">double</span> xh = ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#ac2451e7309a97a6ac4e8d49796e60ac9" title="Return hit by the index.">GetHit</a>(iH).<a class="code" href="../../d3/d9d/classCbmRichHitLight.html#a90e815f46ef6d478eafb46184bb6e76f">fX</a>;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <span class="keywordtype">double</span> yh = ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#ac2451e7309a97a6ac4e8d49796e60ac9" title="Return hit by the index.">GetHit</a>(iH).<a class="code" href="../../d3/d9d/classCbmRichHitLight.html#a1f5711a58219540b64dfc66160a3a17c">fY</a>;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      <span class="keywordtype">double</span> dr = radius - sqrt((xcCircle - xh)*(xcCircle - xh) + (ycCircle - yh)*(ycCircle - yh));</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a2d2bb9d035b5cda9b72e748be6d05020">fhDRVsMom</a>[histIndex]-&gt;Fill(momentum, dr);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      <span class="comment">//if (histIndex == 0) {</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      <span class="comment">//   fhdRXYZ-&gt;Fill(xcCircle, ycCircle, dr);</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      <span class="comment">//}</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;   }</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;   <span class="keywordflow">if</span> (histIndex == 0){ <span class="comment">// only hit fit</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a68dadabfcdb979bfcfe966c7300a8676">fhRadiusVsNofHits</a>-&gt;Fill(nofHitsRing, radius);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;   }</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;}</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div>
<div class="line"><a name="l00608"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a77706fcedffdbeb66b692a9da8a46d7e">  608</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a77706fcedffdbeb66b692a9da8a46d7e" title="Calculate difference between ellipse parameters for two fitting using hits and MC points for fit and ...">CbmRichGeoTest::FillMcVsHitFitEllipse</a>(</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <a class="code" href="../../de/d89/classCbmRichRingLight.html">CbmRichRingLight</a>* ring,</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      <a class="code" href="../../de/d89/classCbmRichRingLight.html">CbmRichRingLight</a>* ringMc)</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;{</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#acd76c587e985df9ab78e3f894349ae9a">fhDiffAaxis</a>-&gt;Fill(ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#ad45c397b52a7882866e354cfcd2c1bd6" title="Return number of hits in ring.">GetNofHits</a>(), ringMc-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#a7bea967c0a79889d5547fd6ad762ddac">GetAaxis</a>() - ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#a7bea967c0a79889d5547fd6ad762ddac">GetAaxis</a>());</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a66455ab0d49911af6bcfbde3e5da76d6">fhDiffBaxis</a>-&gt;Fill(ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#ad45c397b52a7882866e354cfcd2c1bd6" title="Return number of hits in ring.">GetNofHits</a>(),ringMc-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#a354eba46248ef5a37d2ac0fba10331ad">GetBaxis</a>() - ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#a354eba46248ef5a37d2ac0fba10331ad">GetBaxis</a>());</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a7e431d267384cdbbd749570d7239befb">fhDiffXcEllipse</a>-&gt;Fill(ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#ad45c397b52a7882866e354cfcd2c1bd6" title="Return number of hits in ring.">GetNofHits</a>(),ringMc-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#aa919c6cf5b852f0b89f0aee7ac8e1573">GetCenterX</a>() - ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#aa919c6cf5b852f0b89f0aee7ac8e1573">GetCenterX</a>());</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a1fdb5b36fb7c393190ce58e8c69d4e50">fhDiffYcEllipse</a>-&gt;Fill(ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#ad45c397b52a7882866e354cfcd2c1bd6" title="Return number of hits in ring.">GetNofHits</a>(),ringMc-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#a410d6c9513ea5dde4f59660898139aa7">GetCenterY</a>() - ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#a410d6c9513ea5dde4f59660898139aa7">GetCenterY</a>());</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;}</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div>
<div class="line"><a name="l00618"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a2f659dc25c700da38bfe23c0a5454ef9">  618</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a2f659dc25c700da38bfe23c0a5454ef9" title="Calculate difference between circle parameters for two fittings using hits and MC points for fit and ...">CbmRichGeoTest::FillMcVsHitFitCircle</a>(</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      <a class="code" href="../../de/d89/classCbmRichRingLight.html">CbmRichRingLight</a>* ring,</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      <a class="code" href="../../de/d89/classCbmRichRingLight.html">CbmRichRingLight</a>* ringMc)</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;{</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a37dd1b502f72f42f6db10e6c9aeb79b5">fhDiffXcCircle</a>-&gt;Fill(ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#ad45c397b52a7882866e354cfcd2c1bd6" title="Return number of hits in ring.">GetNofHits</a>(),ringMc-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#aa919c6cf5b852f0b89f0aee7ac8e1573">GetCenterX</a>() - ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#aa919c6cf5b852f0b89f0aee7ac8e1573">GetCenterX</a>());</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aa864c127c0490b9174ed4657cf41a1ce">fhDiffYcCircle</a>-&gt;Fill(ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#ad45c397b52a7882866e354cfcd2c1bd6" title="Return number of hits in ring.">GetNofHits</a>(),ringMc-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#a410d6c9513ea5dde4f59660898139aa7">GetCenterY</a>() - ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#a410d6c9513ea5dde4f59660898139aa7">GetCenterY</a>());</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#abc87c508b3ca895b6c908e4ad69a1817">fhDiffRadius</a>-&gt;Fill(ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#ad45c397b52a7882866e354cfcd2c1bd6" title="Return number of hits in ring.">GetNofHits</a>(),ringMc-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#a7075628216df426788b864369f6d9c61">GetRadius</a>() - ring-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#a7075628216df426788b864369f6d9c61">GetRadius</a>());</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;}</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div>
<div class="line"><a name="l00627"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ac4e85945a0e59eb8e5b24852dec35e2d">  627</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ac4e85945a0e59eb8e5b24852dec35e2d" title="Calculate residuals between hits and MC points and fill histograms.">CbmRichGeoTest::HitsAndPoints</a>()</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;{</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;   Int_t nofHits = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a12ac57976f09e0beaccc2b759698f3ba">fRichHits</a>-&gt;GetEntriesFast();</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;   <span class="keywordflow">for</span> (Int_t iH = 0; iH &lt; nofHits; iH++){</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <a class="code" href="../../de/dfd/classCbmRichHit.html">CbmRichHit</a> *hit = (<a class="code" href="../../de/dfd/classCbmRichHit.html">CbmRichHit</a>*) <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a12ac57976f09e0beaccc2b759698f3ba">fRichHits</a>-&gt;At(iH);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      <span class="keywordflow">if</span> ( hit == NULL ) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      Int_t pointInd =  hit-&gt;<a class="code" href="../../d4/d02/classCbmBaseHit.html#abf12d8e40edbcafbe42e9754d6bdbb18">GetRefId</a>();</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      <span class="keywordflow">if</span> (pointInd &lt; 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <a class="code" href="../../de/d57/classCbmRichPoint.html">CbmRichPoint</a> *<a class="code" href="../../d8/df7/PHCASeeding_8cc.html#a905ba7eea43764a576ea5db7e8b73b0f">point</a> = (<a class="code" href="../../de/d57/classCbmRichPoint.html">CbmRichPoint</a>*) <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a12723681d5210f5c749f20fa4cc3cdc1">fRichPoints</a>-&gt;At(pointInd);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      <span class="keywordflow">if</span> ( point == NULL ) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a00b7900df3f72ea4b29f459d931c4cd3">fhNofPhotonsPerHit</a>-&gt;Fill(hit-&gt;<a class="code" href="../../de/dfd/classCbmRichHit.html#a332ae4f4f49472640deec9469b1ffeb1">GetNPhotons</a>());</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      TVector3 inPos(point-&gt;<a class="code" href="../../dc/d28/classFairMCPoint.html#a93cef25f5d617ac6dac4c57a23f94fad">GetX</a>(), point-&gt;<a class="code" href="../../dc/d28/classFairMCPoint.html#a8a6f3e24b6bf26ccecfae358a1e1774c">GetY</a>(), point-&gt;<a class="code" href="../../dc/d28/classFairMCPoint.html#af7da1a103d9655c3f84834d655954e97">GetZ</a>());</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      TVector3 outPos;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      <a class="code" href="../../da/d9f/classCbmRichHitProducer.html#afac25abb4f242aab98833b1d60049094">CbmRichHitProducer::TiltPoint</a>(&amp;inPos, &amp;outPos, <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ae06b1ad03133d8aa741c4ccbc8135d42">fPhi</a>, <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aa4ec66c19aed48d373780d05d7cc4e14">fTheta</a>, <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aa306c462c88d2567a3c0624319dccdfe">fDetZOrig</a>);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4570aab53afa2cfe172efe0a9974757c">fhHitsXY</a>-&gt;Fill(hit-&gt;<a class="code" href="../../d6/d31/classCbmPixelHit.html#a69fc4f8f6a1fd9009f2232f86cacbf97">GetX</a>(), hit-&gt;<a class="code" href="../../d6/d31/classCbmPixelHit.html#a54ab17df317249dc7cbdbf477c3dc533">GetY</a>());</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab015baabb4c5342cf9eba212dbd13cb">fhDiffXhit</a>-&gt;Fill(hit-&gt;<a class="code" href="../../d6/d31/classCbmPixelHit.html#a69fc4f8f6a1fd9009f2232f86cacbf97">GetX</a>() - outPos.X());</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a8d6d9460bb27872b45a00307811d5d8e">fhDiffYhit</a>-&gt;Fill(hit-&gt;<a class="code" href="../../d6/d31/classCbmPixelHit.html#a54ab17df317249dc7cbdbf477c3dc533">GetY</a>() - outPos.Y());</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;   }</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;   Int_t nofPoints = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a12723681d5210f5c749f20fa4cc3cdc1">fRichPoints</a>-&gt;GetEntriesFast();</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;   <span class="keywordflow">for</span> (Int_t iP = 0; iP &lt; nofPoints; iP++){</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      <a class="code" href="../../de/d57/classCbmRichPoint.html">CbmRichPoint</a> *<a class="code" href="../../d8/df7/PHCASeeding_8cc.html#a905ba7eea43764a576ea5db7e8b73b0f">point</a> = (<a class="code" href="../../de/d57/classCbmRichPoint.html">CbmRichPoint</a>*) <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a12723681d5210f5c749f20fa4cc3cdc1">fRichPoints</a>-&gt;At(iP);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      <span class="keywordflow">if</span> ( point == NULL ) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      TVector3 inPos(point-&gt;<a class="code" href="../../dc/d28/classFairMCPoint.html#a93cef25f5d617ac6dac4c57a23f94fad">GetX</a>(), point-&gt;<a class="code" href="../../dc/d28/classFairMCPoint.html#a8a6f3e24b6bf26ccecfae358a1e1774c">GetY</a>(), point-&gt;<a class="code" href="../../dc/d28/classFairMCPoint.html#af7da1a103d9655c3f84834d655954e97">GetZ</a>());</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      TVector3 outPos;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      <a class="code" href="../../da/d9f/classCbmRichHitProducer.html#afac25abb4f242aab98833b1d60049094">CbmRichHitProducer::TiltPoint</a>(&amp;inPos, &amp;outPos, <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ae06b1ad03133d8aa741c4ccbc8135d42">fPhi</a>, <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aa4ec66c19aed48d373780d05d7cc4e14">fTheta</a>, <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aa306c462c88d2567a3c0624319dccdfe">fDetZOrig</a>);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab427dbd4a1c74f0a1f34d858bf1c00c5">fhPointsXY</a>-&gt;Fill(outPos.X(), outPos.Y());</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;   }</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;}</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div>
<div class="line"><a name="l00659"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ae05794279a435a7f2e75b76a18ee768c">  659</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ae05794279a435a7f2e75b76a18ee768c" title="Draw ring in separate TCanvas.">CbmRichGeoTest::DrawRing</a>(</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      <a class="code" href="../../de/d89/classCbmRichRingLight.html">CbmRichRingLight</a>* ringHit,</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      <a class="code" href="../../de/d89/classCbmRichRingLight.html">CbmRichRingLight</a>* ringPoint)</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;{</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;   stringstream ss;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;   ss &lt;&lt; <span class="stringliteral">&quot;Event&quot;</span> &lt;&lt; <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a02f4bcf6ac50e4bb27b23cf8819a2f0d">fNofDrawnRings</a>;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;   fNofDrawnRings++;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;   TCanvas *<a class="code" href="../../d4/d51/vector__math__inline_8h.html#ae0323a9039add2978bf5b49550572c7c">c</a> = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(ss.str().c_str(), ss.str().c_str(), 500, 500);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;   c-&gt;SetGrid(<span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;   TH2D* pad = <span class="keyword">new</span> TH2D(<span class="stringliteral">&quot;pad&quot;</span>, <span class="stringliteral">&quot;;X [cm];Y [cm]&quot;</span>, 1, -15., 15., 1, -15., 15);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;   pad-&gt;SetStats(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;   pad-&gt;Draw();</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;   <span class="comment">// find min and max x and y positions of the hits</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;   <span class="comment">// in order to shift drawing</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;   <span class="keywordtype">double</span> <a class="code" href="../../d8/de4/BoundaryCheckTestsRefs_8hpp.html#ab5bbe897a0c25c58341c216a1b31fbbf">xmin</a> = 99999., <a class="code" href="../../d8/de4/BoundaryCheckTestsRefs_8hpp.html#a30554afc6599846bcd01cbf986d0998a">xmax</a> = -99999., <a class="code" href="../../d8/de4/BoundaryCheckTestsRefs_8hpp.html#a8c17b15efd6e0337c596d98616e9b9da">ymin</a> = 99999., <a class="code" href="../../d8/de4/BoundaryCheckTestsRefs_8hpp.html#afc6ae6b11b9521d908c52e4fb3ea09ce">ymax</a> = -99999.;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; ringHit-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#ad45c397b52a7882866e354cfcd2c1bd6" title="Return number of hits in ring.">GetNofHits</a>(); i++){</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      <span class="keywordtype">double</span> hitX = ringHit-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#ac2451e7309a97a6ac4e8d49796e60ac9" title="Return hit by the index.">GetHit</a>(i).<a class="code" href="../../d3/d9d/classCbmRichHitLight.html#a90e815f46ef6d478eafb46184bb6e76f">fX</a>;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <span class="keywordtype">double</span> hitY = ringHit-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#ac2451e7309a97a6ac4e8d49796e60ac9" title="Return hit by the index.">GetHit</a>(i).<a class="code" href="../../d3/d9d/classCbmRichHitLight.html#a1f5711a58219540b64dfc66160a3a17c">fY</a>;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      <span class="keywordflow">if</span> (xmin &gt; hitX) xmin = hitX;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d8/de4/BoundaryCheckTestsRefs_8hpp.html#a30554afc6599846bcd01cbf986d0998a">xmax</a> &lt; hitX) <a class="code" href="../../d8/de4/BoundaryCheckTestsRefs_8hpp.html#a30554afc6599846bcd01cbf986d0998a">xmax</a> = hitX;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d8/de4/BoundaryCheckTestsRefs_8hpp.html#a8c17b15efd6e0337c596d98616e9b9da">ymin</a> &gt; hitY) <a class="code" href="../../d8/de4/BoundaryCheckTestsRefs_8hpp.html#a8c17b15efd6e0337c596d98616e9b9da">ymin</a> = hitY;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d8/de4/BoundaryCheckTestsRefs_8hpp.html#afc6ae6b11b9521d908c52e4fb3ea09ce">ymax</a> &lt; hitY) <a class="code" href="../../d8/de4/BoundaryCheckTestsRefs_8hpp.html#afc6ae6b11b9521d908c52e4fb3ea09ce">ymax</a> = hitY;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;   }</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;   <span class="keywordtype">double</span> xCur = (xmin + <a class="code" href="../../d8/de4/BoundaryCheckTestsRefs_8hpp.html#a30554afc6599846bcd01cbf986d0998a">xmax</a>) / 2.;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;   <span class="keywordtype">double</span> yCur = (<a class="code" href="../../d8/de4/BoundaryCheckTestsRefs_8hpp.html#a8c17b15efd6e0337c596d98616e9b9da">ymin</a> + <a class="code" href="../../d8/de4/BoundaryCheckTestsRefs_8hpp.html#afc6ae6b11b9521d908c52e4fb3ea09ce">ymax</a>) / 2.;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;   <span class="comment">//Draw circle and center</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;   TEllipse* circle = <span class="keyword">new</span> TEllipse(ringHit-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#aa919c6cf5b852f0b89f0aee7ac8e1573">GetCenterX</a>() - xCur,</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;         ringHit-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#a410d6c9513ea5dde4f59660898139aa7">GetCenterY</a>() - yCur, ringHit-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#a7075628216df426788b864369f6d9c61">GetRadius</a>());</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;   circle-&gt;SetFillStyle(0);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;   circle-&gt;SetLineWidth(3);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;   circle-&gt;Draw();</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;   TEllipse* center = <span class="keyword">new</span> TEllipse(ringHit-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#aa919c6cf5b852f0b89f0aee7ac8e1573">GetCenterX</a>() - xCur, ringHit-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#a410d6c9513ea5dde4f59660898139aa7">GetCenterY</a>() - yCur, .5);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;   center-&gt;Draw();</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;   <span class="comment">// Draw hits</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; ringHit-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#ad45c397b52a7882866e354cfcd2c1bd6" title="Return number of hits in ring.">GetNofHits</a>(); i++){</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      TEllipse* hitDr = <span class="keyword">new</span> TEllipse(ringHit-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#ac2451e7309a97a6ac4e8d49796e60ac9" title="Return hit by the index.">GetHit</a>(i).<a class="code" href="../../d3/d9d/classCbmRichHitLight.html#a90e815f46ef6d478eafb46184bb6e76f">fX</a> - xCur, ringHit-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#ac2451e7309a97a6ac4e8d49796e60ac9" title="Return hit by the index.">GetHit</a>(i).<a class="code" href="../../d3/d9d/classCbmRichHitLight.html#a1f5711a58219540b64dfc66160a3a17c">fY</a> - yCur, .5);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      hitDr-&gt;SetFillColor(kRed);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      hitDr-&gt;Draw();</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;   }</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;   <span class="comment">// Draw MC Points</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; ringPoint-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#ad45c397b52a7882866e354cfcd2c1bd6" title="Return number of hits in ring.">GetNofHits</a>(); i++){</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      TEllipse* pointDr = <span class="keyword">new</span> TEllipse(ringPoint-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#ac2451e7309a97a6ac4e8d49796e60ac9" title="Return hit by the index.">GetHit</a>(i).<a class="code" href="../../d3/d9d/classCbmRichHitLight.html#a90e815f46ef6d478eafb46184bb6e76f">fX</a> - xCur, ringPoint-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#ac2451e7309a97a6ac4e8d49796e60ac9" title="Return hit by the index.">GetHit</a>(i).<a class="code" href="../../d3/d9d/classCbmRichHitLight.html#a1f5711a58219540b64dfc66160a3a17c">fY</a> - yCur, 0.15);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      pointDr-&gt;SetFillColor(kBlue);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      pointDr-&gt;Draw();</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;   }</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;   <span class="comment">//Draw information</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;   stringstream ss2;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;   ss2 &lt;&lt; <span class="stringliteral">&quot;(r, n)=(&quot;</span> &lt;&lt; setprecision(3) &lt;&lt; ringHit-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#a7075628216df426788b864369f6d9c61">GetRadius</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; ringHit-&gt;<a class="code" href="../../de/d89/classCbmRichRingLight.html#ad45c397b52a7882866e354cfcd2c1bd6" title="Return number of hits in ring.">GetNofHits</a>()&lt;&lt;<span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;   TLatex* latex = <span class="keyword">new</span> TLatex(-8., 8., ss2.str().c_str());</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;   latex-&gt;Draw();</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;}</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div>
<div class="line"><a name="l00716"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a2c3a6bab841f183f0e04ccc30ee2008a">  716</a></span>&#160;TH1D* <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a2c3a6bab841f183f0e04ccc30ee2008a" title="Create histogram: RICH detector acceptance vs. minimum required number of hits in ring...">CbmRichGeoTest::CreateAccVsMinNofHitsHist</a>()</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;{</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;   Int_t nofMc = (Int_t)<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#af2b44a5f4efc756f9e186b1e49425354">fh_mc_mom_el</a>-&gt;GetEntries();</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;   TH1D* hist = (TH1D*)<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#af877c43b47721c54ff0ef5e86cb2964e">fhNofHits</a>[0]-&gt;Clone(<span class="stringliteral">&quot;fhAccVsMinNofHitsHist&quot;</span>);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;   hist-&gt;GetXaxis()-&gt;SetTitle(<span class="stringliteral">&quot;Required min nof hits in ring&quot;</span>);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;   hist-&gt;GetYaxis()-&gt;SetTitle(<span class="stringliteral">&quot;Detector acceptance [%]&quot;</span>);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;   Double_t sum = 0.;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = hist-&gt;GetNbinsX(); i &gt; 1 ; i--){</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      sum += <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#af877c43b47721c54ff0ef5e86cb2964e">fhNofHits</a>[0]-&gt;GetBinContent(i);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      hist-&gt;SetBinContent(i, 100. * sum / nofMc);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;   }</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;   <span class="keywordflow">return</span> hist;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;}</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div>
<div class="line"><a name="l00730"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4870df1c7e92f4829dae013d95affb1c">  730</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4870df1c7e92f4829dae013d95affb1c" title="Creates two histogram. First is mean value vs. x axis, errors represents RMS. Second is RMS value vs...">CbmRichGeoTest::CreateH2MeanRms</a>(</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      TH2D* hist,</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      TH1D** meanHist,</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      TH1D** rmsHist)</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;{</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;   *meanHist = (TH1D*)hist-&gt;ProjectionX( (<span class="keywordtype">string</span>(hist-&gt;GetName()) + <span class="stringliteral">&quot;_mean&quot;</span>).c_str() )-&gt;Clone();</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;   (*meanHist)-&gt;GetYaxis()-&gt;SetTitle( (<span class="stringliteral">&quot;Mean and RMS. &quot;</span> + <span class="keywordtype">string</span>(hist-&gt;GetYaxis()-&gt;GetTitle()) ).c_str());</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;   *rmsHist = (TH1D*)hist-&gt;ProjectionX((<span class="keywordtype">string</span>(hist-&gt;GetName()) + <span class="stringliteral">&quot;_rms&quot;</span>).c_str() )-&gt;Clone();</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;   (*rmsHist)-&gt;GetYaxis()-&gt;SetTitle( (<span class="stringliteral">&quot;RMS. &quot;</span>+ <span class="keywordtype">string</span>(hist-&gt;GetYaxis()-&gt;GetTitle()) ).c_str());</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;   <span class="keywordflow">for</span> (Int_t i = 1; i &lt;= hist-&gt;GetXaxis()-&gt;GetNbins(); i++){</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      stringstream ss;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      ss &lt;&lt; string(hist-&gt;GetName()) &lt;&lt; <span class="stringliteral">&quot;_py&quot;</span> &lt;&lt; i;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      TH1D* pr = hist-&gt;ProjectionY(ss.str().c_str(), i, i);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      <span class="keywordflow">if</span> (*meanHist == NULL || pr == NULL) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      (*meanHist)-&gt;SetBinContent(i, pr-&gt;GetMean());</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      (*meanHist)-&gt;SetBinError(i, pr-&gt;GetRMS());</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;      (*rmsHist)-&gt;SetBinContent(i, pr-&gt;GetRMS());</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;   }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;}</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div>
<div class="line"><a name="l00750"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a5298982fb23656d383e18d9dee7ab220">  750</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a5298982fb23656d383e18d9dee7ab220">CbmRichGeoTest::DrawH2MeanRms</a>(</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      TH2D* hist,</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; canvasName)</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;{</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;   TH1D* mean, *rms;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4870df1c7e92f4829dae013d95affb1c" title="Creates two histogram. First is mean value vs. x axis, errors represents RMS. Second is RMS value vs...">CreateH2MeanRms</a>(hist, &amp;mean, &amp;rms);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <span class="comment">// TCanvas *c = CreateCanvas(canvasName.c_str(), canvasName.c_str(), 900, 900);</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160; <span class="comment">/*  c-&gt;Divide(2, 2);</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment">   c-&gt;cd(1);</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment">   DrawH2(hist);</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="comment">   c-&gt;cd(2);</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment">   TH1D* py = hist-&gt;ProjectionY( (string(hist-&gt;GetName())+ &quot;_py&quot; ).c_str() );</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment">   py-&gt;Scale(1./py-&gt;Integral());</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment">   py-&gt;GetYaxis()-&gt;SetTitle(&quot;Yield&quot;);</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="comment">   DrawH1(py);</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="comment">   string txt1 = lit::NumberToString&lt;Double_t&gt;(py-&gt;GetMean(), 2) + &quot; / &quot;</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="comment">         + lit::NumberToString&lt;Double_t&gt;(py-&gt;GetRMS(), 2);</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment">   TLatex text;</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment">   text.SetTextAlign(21);</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="comment">   text.SetTextSize(0.05);</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="comment">   text.DrawTextNDC(0.5, 0.92, txt1.c_str());</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="comment">   gPad-&gt;SetLogy(true);</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="comment">   c-&gt;cd(3);</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="comment">   DrawH1(mean);</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="comment">   c-&gt;cd(4);</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="comment">   DrawH1(rms);*/</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;   TCanvas *<a class="code" href="../../d8/d00/RungeKuttaRequest_8cxx.html#a8a289ed190008419ee49288535be093d">c1</a> = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>((canvasName+<span class="stringliteral">&quot;_py&quot;</span>).c_str(), (canvasName+<span class="stringliteral">&quot;_py&quot;</span>).c_str(), 800, 800);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;   TH1D* py = hist-&gt;ProjectionY( (<span class="keywordtype">string</span>(hist-&gt;GetName())+ <span class="stringliteral">&quot;_py&quot;</span> ).c_str() );</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;   py-&gt;Scale(1./py-&gt;Integral());</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;   py-&gt;GetYaxis()-&gt;SetTitle(<span class="stringliteral">&quot;Yield&quot;</span>);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(py);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;   <span class="keywordtype">string</span> txt1 = lit::NumberToString&lt;Double_t&gt;(py-&gt;GetMean(), 2) + <span class="stringliteral">&quot; / &quot;</span> + lit::NumberToString&lt;Double_t&gt;(py-&gt;GetRMS(), 2);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;   TLatex text;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;   text.SetTextAlign(21);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;   text.SetTextSize(0.05);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;   text.DrawTextNDC(0.5, 0.92, txt1.c_str());</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;   gPad-&gt;SetLogy(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;   TCanvas *<a class="code" href="../../db/d5d/test__style_8C.html#ab4054a35faf3253141237ffcdba622b4">c2</a> = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>((canvasName+<span class="stringliteral">&quot;_mean&quot;</span>).c_str(), (canvasName+<span class="stringliteral">&quot;_mean&quot;</span>).c_str(), 800, 800);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(mean);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;   TCanvas *<a class="code" href="../../d8/d00/RungeKuttaRequest_8cxx.html#a0d1d46b5c820d4787cec9b22690d15eb">c3</a> = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>((canvasName+<span class="stringliteral">&quot;_rms&quot;</span>).c_str(), (canvasName+<span class="stringliteral">&quot;_rms&quot;</span>).c_str(), 800, 800);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(rms);</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;}</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div>
<div class="line"><a name="l00796"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a6ddf9e9f92bb6915e522d51d19351e12">  796</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a6ddf9e9f92bb6915e522d51d19351e12">CbmRichGeoTest::DrawH1andFit</a>(</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      TH1D* hist)</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;{</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  <span class="comment">// TH1D* py = hist-&gt;ProjectionY( (string(hist-&gt;GetName())+ &quot;_py&quot; ).c_str() );</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;   hist-&gt;GetYaxis()-&gt;SetTitle(<span class="stringliteral">&quot;Yield&quot;</span>);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(hist);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;   hist-&gt;Scale(1./ hist-&gt;Integral());</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;   hist-&gt;GetXaxis()-&gt;SetRangeUser(2., 8.);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;   hist-&gt;Fit(<span class="stringliteral">&quot;gaus&quot;</span>, <span class="stringliteral">&quot;Q&quot;</span>);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;   TF1* <a class="code" href="../../d8/d74/dfe__dispatcher_8hpp.html#a0078bd69824fe13ef0cc06f9672d57d7">func</a> = hist-&gt;GetFunction(<span class="stringliteral">&quot;gaus&quot;</span>);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;   <span class="keywordflow">if</span> (func == NULL) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;   func-&gt;SetLineColor(kBlack);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;   <span class="keywordtype">double</span> <a class="code" href="../../d6/d4d/namespaceActs_1_1UnitConstants.html#aa0b5dd062eddcdda72af1809b341ab0f">m</a> = func-&gt;GetParameter(1);</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;   <span class="keywordtype">double</span> <a class="code" href="../../d6/d4d/namespaceActs_1_1UnitConstants.html#af5e223138d35ab82606b8d129728a3a8">s</a> = func-&gt;GetParameter(2);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;   <span class="keywordtype">string</span> txt1 = lit::NumberToString&lt;double&gt;(<a class="code" href="../../d6/d4d/namespaceActs_1_1UnitConstants.html#aa0b5dd062eddcdda72af1809b341ab0f">m</a>, 2) + <span class="stringliteral">&quot; / &quot;</span> + lit::NumberToString&lt;double&gt;(s, 2);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;   TLatex text;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;   text.SetTextAlign(21);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;   text.SetTextSize(0.06);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;   text.DrawTextNDC(0.5, 0.92, txt1.c_str());</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  <span class="comment">// gPad-&gt;SetLogy(true);</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;}</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div>
<div class="line"><a name="l00818"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a6cfd170d7edf9ecc5fbb03d611a83150">  818</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a6cfd170d7edf9ecc5fbb03d611a83150">CbmRichGeoTest::FitH1OneOverX</a>(</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      TH1D* hist,</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;      <span class="keywordtype">double</span> xMinFit,</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      <span class="keywordtype">double</span> xMaxFit,</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      <span class="keywordtype">double</span> xMin,</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      <span class="keywordtype">double</span> xMax,</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; canvasName)</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;{</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; hist-&gt;GetNbinsX() - 1;i++){</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      <span class="keywordtype">double</span> c0 = hist-&gt;GetBinContent(i);</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      <span class="keywordtype">double</span> <a class="code" href="../../d8/d00/RungeKuttaRequest_8cxx.html#a8a289ed190008419ee49288535be093d">c1</a> = hist-&gt;GetBinContent(i+1);</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      <span class="keywordflow">if</span> (c0 &gt; 0 &amp;&amp; c0 &lt;= c1){</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;         xMinFit = hist-&gt;GetBinCenter(i+1);</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      }</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;      <span class="keywordflow">if</span> (c0 &gt; c1) {</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;         <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;      }</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;   }</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;   TCanvas *cDrRmsFit = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(canvasName.c_str(), canvasName.c_str(), 600, 600);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;   TF1 *f1 = <span class="keyword">new</span> TF1(<span class="stringliteral">&quot;f1&quot;</span>, <span class="stringliteral">&quot;[0]/x+[1]&quot;</span>, xMinFit, xMaxFit);</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;   f1-&gt;SetLineColor(kBlack);</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(hist);</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;   hist-&gt;Fit(f1, <span class="stringliteral">&quot;RQ&quot;</span>);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;   hist-&gt;GetXaxis()-&gt;SetRangeUser(xMin, xMax);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;   f1-&gt;SetLineColor(kBlack);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;   <span class="keywordtype">double</span> p0 = f1-&gt;GetParameter(0);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;   <span class="keywordtype">double</span> p1 = f1-&gt;GetParameter(1);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;   stringstream ss;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;   ss.precision(3);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;   ss &lt;&lt; <span class="stringliteral">&quot;y=&quot;</span>&lt;&lt;<a class="code" href="../../de/d27/namespacelit.html#af6a03673b1305866db7f29c94ac560a1">lit::NumberToString</a>(p0, 1)&lt;&lt;<span class="stringliteral">&quot;/P+&quot;</span>&lt;&lt;<a class="code" href="../../de/d27/namespacelit.html#af6a03673b1305866db7f29c94ac560a1">lit::NumberToString</a>(p1, 1);</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;   TLegend* <a class="code" href="../../db/d5d/test__style_8C.html#a5dcd1d1376a077de14f84bb875207fb2">leg</a> = <span class="keyword">new</span> TLegend(0.15, 0.9, 0.85, 0.99);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;   leg-&gt;AddEntry(<span class="keyword">new</span> TH2D(), ss.str().c_str(), <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;   leg-&gt;SetFillColor(kWhite);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;   leg-&gt;SetFillStyle(0);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;   leg-&gt;SetBorderSize(0);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;   leg-&gt;Draw();</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;}</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div>
<div class="line"><a name="l00857"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a9722e98905bc23a11dfab95ae0baa7bb">  857</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a9722e98905bc23a11dfab95ae0baa7bb" title="Draw histograms.">CbmRichGeoTest::DrawHist</a>()</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;{</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a6547556dd66a8f48bb57935a591312ba">SetDefaultDrawStyle</a>();</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;   TCanvas *cHitsXY = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(<span class="stringliteral">&quot;richgeo_hits_xy&quot;</span>, <span class="stringliteral">&quot;richgeo_hits_xy&quot;</span>, 800, 800);</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a75ee1eb8d94447c29570960f3941d7e6">DrawH2</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4570aab53afa2cfe172efe0a9974757c">fhHitsXY</a>);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;   TCanvas *cPointsXY = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(<span class="stringliteral">&quot;richgeo_points_xy&quot;</span>, <span class="stringliteral">&quot;richgeo_points_xy&quot;</span>, 800, 800);</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a75ee1eb8d94447c29570960f3941d7e6">DrawH2</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab427dbd4a1c74f0a1f34d858bf1c00c5">fhPointsXY</a>);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 2; i++){</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      stringstream ss;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <span class="keywordflow">if</span> (i == 0) ss &lt;&lt; <span class="stringliteral">&quot;richgeo_hits_&quot;</span>;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      <span class="keywordflow">if</span> (i == 1) ss &lt;&lt; <span class="stringliteral">&quot;richgeo_points_&quot;</span>;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;      TCanvas *cEllipseBoa = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>((ss.str()+<span class="stringliteral">&quot;ellipse_boa&quot;</span>).c_str(), (ss.str()+<span class="stringliteral">&quot;ellipse_boa&quot;</span>).c_str(), 800, 800);</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a19e70be6a8e7c2a6404b563bed76747e">fhBoverA</a>[i]-&gt;Scale(1./<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a19e70be6a8e7c2a6404b563bed76747e">fhBoverA</a>[i]-&gt;Integral());</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a19e70be6a8e7c2a6404b563bed76747e">fhBoverA</a>[i]);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;      cout &lt;&lt; (ss.str()+<span class="stringliteral">&quot;ellipse_boa_mean&quot;</span>) &lt;&lt; <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a19e70be6a8e7c2a6404b563bed76747e">fhBoverA</a>[i]-&gt;GetMean() &lt;&lt; endl;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      gPad-&gt;SetLogy(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      TCanvas *cEllipseXcYc = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>((ss.str()+<span class="stringliteral">&quot;ellipse_xc_yc&quot;</span>).c_str(), (ss.str()+<span class="stringliteral">&quot;ellipse_xc_yc&quot;</span>).c_str(), 800, 800);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;      <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a75ee1eb8d94447c29570960f3941d7e6">DrawH2</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#af38143cf3221a1f9f2fd853eb613b475">fhXcYcEllipse</a>[i]);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a5298982fb23656d383e18d9dee7ab220">DrawH2MeanRms</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a80082e698d6181ec24985818a63472df">fhChi2EllipseVsMom</a>[i],  ss.str() + <span class="stringliteral">&quot;chi2_ellipse_vs_mom&quot;</span>);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a5298982fb23656d383e18d9dee7ab220">DrawH2MeanRms</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aa1d1c022702ac964252ac452ed5fdfbc">fhAaxisVsMom</a>[i], ss.str() + <span class="stringliteral">&quot;a_vs_mom&quot;</span>);</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a5298982fb23656d383e18d9dee7ab220">DrawH2MeanRms</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a7efc41b197a918522099840991675c16">fhBaxisVsMom</a>[i], ss.str() + <span class="stringliteral">&quot;b_vs_mom&quot;</span>);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      TCanvas *cCircle = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>((ss.str()+<span class="stringliteral">&quot;circle&quot;</span>).c_str(), (ss.str()+<span class="stringliteral">&quot;circle&quot;</span>).c_str(), 800, 400);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      cCircle-&gt;Divide(2,1);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      cCircle-&gt;cd(1);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;      <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#af877c43b47721c54ff0ef5e86cb2964e">fhNofHits</a>[i]);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      cout &lt;&lt; <span class="stringliteral">&quot;Number of hits/points = &quot;</span>  &lt;&lt; <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#af877c43b47721c54ff0ef5e86cb2964e">fhNofHits</a>[i]-&gt;GetMean() &lt;&lt; endl;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      gPad-&gt;SetLogy(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      cCircle-&gt;cd(2);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a75ee1eb8d94447c29570960f3941d7e6">DrawH2</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a7d876918ee3c176d1628a9ec1e2f3b47">fhXcYcCircle</a>[i]);</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a5298982fb23656d383e18d9dee7ab220">DrawH2MeanRms</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab66229150f7bbd68770e390520138de1">fhChi2CircleVsMom</a>[i], ss.str() + <span class="stringliteral">&quot;chi2_circle_vs_mom&quot;</span>);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a5298982fb23656d383e18d9dee7ab220">DrawH2MeanRms</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a9c36ba0c0c4b2c6bbca9522728d2f670">fhRadiusVsMom</a>[i], ss.str() + <span class="stringliteral">&quot;r_vs_mom&quot;</span>);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a5298982fb23656d383e18d9dee7ab220">DrawH2MeanRms</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a2d2bb9d035b5cda9b72e748be6d05020">fhDRVsMom</a>[i], ss.str() + <span class="stringliteral">&quot;dr_vs_mom&quot;</span>);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;      TH1D* meanDr, *rmsDr;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4870df1c7e92f4829dae013d95affb1c" title="Creates two histogram. First is mean value vs. x axis, errors represents RMS. Second is RMS value vs...">CreateH2MeanRms</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a2d2bb9d035b5cda9b72e748be6d05020">fhDRVsMom</a>[i], &amp;meanDr, &amp;rmsDr);</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a6cfd170d7edf9ecc5fbb03d611a83150">FitH1OneOverX</a>(rmsDr, 0.1, 2.9, 0.0, 3.0, ss.str() + <span class="stringliteral">&quot;dr_rms_vs_mom_fit&quot;</span>);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      TH1D* meanChi2, *rmsChi2;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4870df1c7e92f4829dae013d95affb1c" title="Creates two histogram. First is mean value vs. x axis, errors represents RMS. Second is RMS value vs...">CreateH2MeanRms</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab66229150f7bbd68770e390520138de1">fhChi2CircleVsMom</a>[i], &amp;meanChi2, &amp;rmsChi2);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a6cfd170d7edf9ecc5fbb03d611a83150">FitH1OneOverX</a>(meanChi2, 0.1, 2.9, 0.0, 3.0, ss.str() + <span class="stringliteral">&quot;chi2_circle_mean_vs_mom_fit&quot;</span>);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;   }</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;   TCanvas* cNofPhotons = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(<span class="stringliteral">&quot;richgeo_nof_photons_per_hit&quot;</span>, <span class="stringliteral">&quot;richgeo_nof_photons_per_hit&quot;</span>, 800, 800);</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a00b7900df3f72ea4b29f459d931c4cd3">fhNofPhotonsPerHit</a>-&gt;Scale(1./<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a00b7900df3f72ea4b29f459d931c4cd3">fhNofPhotonsPerHit</a>-&gt;Integral());</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a00b7900df3f72ea4b29f459d931c4cd3">fhNofPhotonsPerHit</a>);</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;   TCanvas *cDiff2DEllipse = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(<span class="stringliteral">&quot;richgeo_diff2d_ellipse&quot;</span>, <span class="stringliteral">&quot;richgeo_diff2d_ellipse&quot;</span>, 800, 800);</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;   cDiff2DEllipse-&gt;Divide(2,2);</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;   cDiff2DEllipse-&gt;cd(1);</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a75ee1eb8d94447c29570960f3941d7e6">DrawH2</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#acd76c587e985df9ab78e3f894349ae9a">fhDiffAaxis</a>);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;   cDiff2DEllipse-&gt;cd(2);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a75ee1eb8d94447c29570960f3941d7e6">DrawH2</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a66455ab0d49911af6bcfbde3e5da76d6">fhDiffBaxis</a>);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;   cDiff2DEllipse-&gt;cd(3);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a75ee1eb8d94447c29570960f3941d7e6">DrawH2</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a7e431d267384cdbbd749570d7239befb">fhDiffXcEllipse</a>);</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;   cDiff2DEllipse-&gt;cd(4);</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a75ee1eb8d94447c29570960f3941d7e6">DrawH2</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a1fdb5b36fb7c393190ce58e8c69d4e50">fhDiffYcEllipse</a>);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;   TCanvas *cDiff2DCircle = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(<span class="stringliteral">&quot;richgeo_diff2d_circle&quot;</span>, <span class="stringliteral">&quot;richgeo_diff2d_circle&quot;</span>, 1200, 400);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;   cDiff2DCircle-&gt;Divide(3,1);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;   cDiff2DCircle-&gt;cd(1);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a75ee1eb8d94447c29570960f3941d7e6">DrawH2</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a37dd1b502f72f42f6db10e6c9aeb79b5">fhDiffXcCircle</a>);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;   cDiff2DCircle-&gt;cd(2);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a75ee1eb8d94447c29570960f3941d7e6">DrawH2</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aa864c127c0490b9174ed4657cf41a1ce">fhDiffYcCircle</a>);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;   cDiff2DCircle-&gt;cd(3);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a75ee1eb8d94447c29570960f3941d7e6">DrawH2</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#abc87c508b3ca895b6c908e4ad69a1817">fhDiffRadius</a>);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;   TCanvas *cDiff1DEllipse = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(<span class="stringliteral">&quot;richgeo_diff1d_ellipse&quot;</span>, <span class="stringliteral">&quot;richgeo_diff1d_ellipse&quot;</span>, 800, 800);</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;   cDiff1DEllipse-&gt;Divide(2,2);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;   cDiff1DEllipse-&gt;cd(1);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#acd76c587e985df9ab78e3f894349ae9a">fhDiffAaxis</a>-&gt;ProjectionY());</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;   gPad-&gt;SetLogy(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;   cDiff1DEllipse-&gt;cd(2);</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a66455ab0d49911af6bcfbde3e5da76d6">fhDiffBaxis</a>-&gt;ProjectionY());</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;   gPad-&gt;SetLogy(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;   cDiff1DEllipse-&gt;cd(3);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a7e431d267384cdbbd749570d7239befb">fhDiffXcEllipse</a>-&gt;ProjectionY());</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;   gPad-&gt;SetLogy(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;   cDiff1DEllipse-&gt;cd(4);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a1fdb5b36fb7c393190ce58e8c69d4e50">fhDiffYcEllipse</a>-&gt;ProjectionY());</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;   gPad-&gt;SetLogy(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;   TCanvas *cDiff1DCircle = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(<span class="stringliteral">&quot;richgeo_diff1d_circle&quot;</span>, <span class="stringliteral">&quot;richgeo_diff1d_circle&quot;</span>, 1200, 400);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;   cDiff1DCircle-&gt;Divide(3,1);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;   cDiff1DCircle-&gt;cd(1);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a37dd1b502f72f42f6db10e6c9aeb79b5">fhDiffXcCircle</a>-&gt;ProjectionY());</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;   gPad-&gt;SetLogy(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;   cDiff1DCircle-&gt;cd(2);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aa864c127c0490b9174ed4657cf41a1ce">fhDiffYcCircle</a>-&gt;ProjectionY());</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;   gPad-&gt;SetLogy(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;   cDiff1DCircle-&gt;cd(3);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#abc87c508b3ca895b6c908e4ad69a1817">fhDiffRadius</a>-&gt;ProjectionY());</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;   gPad-&gt;SetLogy(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;   TCanvas *cHits = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(<span class="stringliteral">&quot;richgeo_hits&quot;</span>, <span class="stringliteral">&quot;richgeo_hits&quot;</span>, 1200, 600);</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;   cHits-&gt;Divide(2,1);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;   cHits-&gt;cd(1);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab015baabb4c5342cf9eba212dbd13cb">fhDiffXhit</a>);</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;   cHits-&gt;cd(2);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a8d6d9460bb27872b45a00307811d5d8e">fhDiffYhit</a>);</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;   TCanvas *cFitEff = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(<span class="stringliteral">&quot;richgeo_fit_eff&quot;</span>, <span class="stringliteral">&quot;richgeo_fit_eff&quot;</span>, 1200, 400);</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;   cFitEff-&gt;Divide(3,1);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;   cFitEff-&gt;cd(1);</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>( list_of((TH1D*)<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ac2dba2b4a0f8cea3e56a1d89b53ff9a7">fhNofHitsAll</a>-&gt;Clone())((TH1D*)<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a8171c2923ba6cd81d75b22d883059081">fhNofHitsCircleFit</a>-&gt;Clone())((TH1D*)<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aa2c3a59d7f8569d6b5a43f29d6861b18">fhNofHitsEllipseFit</a>-&gt;Clone()),</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;         list_of(<span class="stringliteral">&quot;All&quot;</span>)(<span class="stringliteral">&quot;Circle fit&quot;</span>)(<span class="stringliteral">&quot;Ellipse fit&quot;</span>), <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#af0de4d576e2e7680b5f7feea90a8f152ac188c019178783e5be55110601309d7d">kLinear</a>, <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#af0de4d576e2e7680b5f7feea90a8f152adceec510aac73de74677b268d37c4a73">kLog</a>, <span class="keyword">true</span>, 0.7, 0.7, 0.99, 0.99);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a33917c0d2be262c4b5c6f179b9befe73">fhNofHitsCircleFitEff</a> = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#acd4c8e873b568dbc5a953845e93003a9" title="Divide two histograms and create third one.">DivideH1</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a8171c2923ba6cd81d75b22d883059081">fhNofHitsCircleFit</a>, <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ac2dba2b4a0f8cea3e56a1d89b53ff9a7">fhNofHitsAll</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;Nof hits in ring&quot;</span>, <span class="stringliteral">&quot;Efficiency&quot;</span>);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a40ccbd5c74051a28c68f6dd981632aff">fhNofHitsEllipseFitEff</a> = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#acd4c8e873b568dbc5a953845e93003a9" title="Divide two histograms and create third one.">DivideH1</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aa2c3a59d7f8569d6b5a43f29d6861b18">fhNofHitsEllipseFit</a>, <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ac2dba2b4a0f8cea3e56a1d89b53ff9a7">fhNofHitsAll</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;Nof hits in ring&quot;</span>, <span class="stringliteral">&quot;Efficiency&quot;</span>);</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;   cFitEff-&gt;cd(2);</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a33917c0d2be262c4b5c6f179b9befe73">fhNofHitsCircleFitEff</a>);</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;   TLatex* circleFitEffTxt = <span class="keyword">new</span> TLatex(15, 0.5, <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a51adb9d45f73f4dbb0dea7806004f9ee" title="Create property tree an store different statistics there.">CalcEfficiency</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a8171c2923ba6cd81d75b22d883059081">fhNofHitsCircleFit</a>, <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ac2dba2b4a0f8cea3e56a1d89b53ff9a7">fhNofHitsAll</a>).c_str());</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;   circleFitEffTxt-&gt;Draw();</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;   cFitEff-&gt;cd(3);</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a40ccbd5c74051a28c68f6dd981632aff">fhNofHitsEllipseFitEff</a>);</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;   TLatex* ellipseFitEffTxt = <span class="keyword">new</span> TLatex(15, 0.5, <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a51adb9d45f73f4dbb0dea7806004f9ee" title="Create property tree an store different statistics there.">CalcEfficiency</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aa2c3a59d7f8569d6b5a43f29d6861b18">fhNofHitsEllipseFit</a>, <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ac2dba2b4a0f8cea3e56a1d89b53ff9a7">fhNofHitsAll</a>).c_str());</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;   ellipseFitEffTxt-&gt;Draw();</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;   TCanvas *cAccEff = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(<span class="stringliteral">&quot;richgeo_acc_eff_el&quot;</span>, <span class="stringliteral">&quot;richgeo_acc_eff_el&quot;</span>, 1200, 800);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;   cAccEff-&gt;Divide(3,2);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;   cAccEff-&gt;cd(1);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(list_of(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#af2b44a5f4efc756f9e186b1e49425354">fh_mc_mom_el</a>)(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a359af4e90f871134335223e65019814b">fh_acc_mom_el</a>), list_of(<span class="stringliteral">&quot;MC&quot;</span>)(<span class="stringliteral">&quot;ACC&quot;</span>), <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#af0de4d576e2e7680b5f7feea90a8f152ac188c019178783e5be55110601309d7d">kLinear</a>, kLog, <span class="keyword">true</span>, 0.8, 0.8, 0.99, 0.99);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;   cAccEff-&gt;cd(2);</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a75ee1eb8d94447c29570960f3941d7e6">DrawH2</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab9f05a854fe052434fcadc86813cfd9e">fh_mc_pty_el</a>);</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;   cAccEff-&gt;cd(3);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a75ee1eb8d94447c29570960f3941d7e6">DrawH2</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a0f7b76c31179699fed2c4829e0d04e00">fh_acc_pty_el</a>);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;   TH1D* pxEff = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#acd4c8e873b568dbc5a953845e93003a9" title="Divide two histograms and create third one.">DivideH1</a>((TH1D*)<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a359af4e90f871134335223e65019814b">fh_acc_mom_el</a>-&gt;Clone(), (TH1D*)<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#af2b44a5f4efc756f9e186b1e49425354">fh_mc_mom_el</a>-&gt;Clone(), <span class="stringliteral">&quot;pxEff&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;p [GeV/c]&quot;</span>, <span class="stringliteral">&quot;Geometrical acceptance [%]&quot;</span>);</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;   TH2D* pyzEff = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a07f93d794c1dec2ab007bdd4d818b44f">DivideH2</a>((TH1D*)<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a0f7b76c31179699fed2c4829e0d04e00">fh_acc_pty_el</a>-&gt;Clone(), (TH1D*)<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab9f05a854fe052434fcadc86813cfd9e">fh_mc_pty_el</a>-&gt;Clone(), <span class="stringliteral">&quot;pyzEff&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;Rapidity&quot;</span>, <span class="stringliteral">&quot;P_{t} [GeV/c]&quot;</span>, <span class="stringliteral">&quot;Geometrical acceptance [%]&quot;</span>);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;   <span class="comment">//cAccEff-&gt;cd(4);</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;   TCanvas *cAccEff_mom = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(<span class="stringliteral">&quot;richgeo_acc_eff_el_mom&quot;</span>, <span class="stringliteral">&quot;richgeo_acc_eff_el_mom&quot;</span>, 800, 800);</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(pxEff);</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;   <span class="comment">//TLatex* pxEffTxt = new TLatex(3, 0.5, CalcEfficiency(fh_acc_mom_el, fh_mc_mom_el).c_str());</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;   <span class="comment">//pxEffTxt-&gt;Draw();</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;   TCanvas *cAccEff_pty = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(<span class="stringliteral">&quot;richgeo_acc_eff_el_pty&quot;</span>, <span class="stringliteral">&quot;richgeo_acc_eff_el_pty&quot;</span>, 800, 800);</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;   <span class="comment">//cAccEff-&gt;cd(5);</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a75ee1eb8d94447c29570960f3941d7e6">DrawH2</a>(pyzEff);</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;   TCanvas *cAccEffPi = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(<span class="stringliteral">&quot;richgeo_acc_eff_pi&quot;</span>, <span class="stringliteral">&quot;richgeo_acc_eff_pi&quot;</span>, 1200, 800);</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;   cAccEffPi-&gt;Divide(3,2);</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;   cAccEffPi-&gt;cd(1);</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(list_of(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a74ea74c49880f76de2bf57b13bfd5afd">fh_mc_mom_pi</a>)(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a231fcb91e4955af70b8674c6aab9a50c">fh_acc_mom_pi</a>), list_of(<span class="stringliteral">&quot;MC&quot;</span>)(<span class="stringliteral">&quot;ACC&quot;</span>), <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#af0de4d576e2e7680b5f7feea90a8f152ac188c019178783e5be55110601309d7d">kLinear</a>, kLog, <span class="keyword">true</span>, 0.8, 0.8, 0.99, 0.99);</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;   cAccEffPi-&gt;cd(2);</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a75ee1eb8d94447c29570960f3941d7e6">DrawH2</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a40e214df4f506b4b6863122df564338d">fh_mc_pty_pi</a>);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;   cAccEffPi-&gt;cd(3);</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a75ee1eb8d94447c29570960f3941d7e6">DrawH2</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a23e65e69db194bae75ee5957205d4409">fh_acc_pty_pi</a>);</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;   TH1D* pxPiEff = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#acd4c8e873b568dbc5a953845e93003a9" title="Divide two histograms and create third one.">DivideH1</a>((TH1D*)<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a231fcb91e4955af70b8674c6aab9a50c">fh_acc_mom_pi</a>-&gt;Clone(), (TH1D*)<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a74ea74c49880f76de2bf57b13bfd5afd">fh_mc_mom_pi</a>-&gt;Clone(), <span class="stringliteral">&quot;pxPiEff&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;p [GeV/c]&quot;</span>, <span class="stringliteral">&quot;Geometrical acceptance [%]&quot;</span>);</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;   TH2D* pyzPiEff = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a07f93d794c1dec2ab007bdd4d818b44f">DivideH2</a>((TH1D*)<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a23e65e69db194bae75ee5957205d4409">fh_acc_pty_pi</a>-&gt;Clone(), (TH1D*)<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a40e214df4f506b4b6863122df564338d">fh_mc_pty_pi</a>-&gt;Clone(), <span class="stringliteral">&quot;pyzPiEff&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;Rapidity&quot;</span>, <span class="stringliteral">&quot;P_{t} [GeV/c]&quot;</span>, <span class="stringliteral">&quot;Geometrical acceptance [%]&quot;</span>);</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  <span class="comment">// cAccEffPi-&gt;cd(4);</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;   TCanvas *cAccEffPi_mom = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(<span class="stringliteral">&quot;richgeo_acc_eff_pi_mom&quot;</span>, <span class="stringliteral">&quot;richgeo_acc_eff_pi_mom&quot;</span>, 800, 800);</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(pxPiEff);</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;  <span class="comment">// TLatex* pxEffTxt = new TLatex(3, 0.5, CalcEfficiency(fh_acc_mom_pi, fh_mc_mom_pi).c_str());</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160; <span class="comment">//  pxEffTxt-&gt;Draw();</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;   <span class="comment">//cAccEffPi-&gt;cd(5);</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;   TCanvas *cAccEffPi_pty = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(<span class="stringliteral">&quot;richgeo_acc_eff_pi_pty&quot;</span>, <span class="stringliteral">&quot;richgeo_acc_eff_pi_pty&quot;</span>, 800, 800);</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a75ee1eb8d94447c29570960f3941d7e6">DrawH2</a>(pyzPiEff);</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;   pyzPiEff-&gt;GetZaxis()-&gt;SetRangeUser(0, 100);</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;   TCanvas *cAccEffElPi_mom = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(<span class="stringliteral">&quot;richgeo_acc_eff_el_pi_mom&quot;</span>, <span class="stringliteral">&quot;richgeo_acc_eff_el_pi_mom&quot;</span>, 800, 800);</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(list_of(pxEff)(pxPiEff), list_of(<span class="stringliteral">&quot;e^{#pm}&quot;</span>)(<span class="stringliteral">&quot;#pi^{#pm}&quot;</span>), <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#af0de4d576e2e7680b5f7feea90a8f152ac188c019178783e5be55110601309d7d">kLinear</a>, <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#af0de4d576e2e7680b5f7feea90a8f152ac188c019178783e5be55110601309d7d">kLinear</a>, <span class="keyword">true</span>, 0.7, 0.5, 0.87, 0.7);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;   TCanvas *cAccEffZoom = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(<span class="stringliteral">&quot;richgeo_acc_eff_el_zoom&quot;</span>, <span class="stringliteral">&quot;richgeo_acc_eff_el_zoom&quot;</span>, 1000, 500);</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;   cAccEffZoom-&gt;Divide(2,1);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;   cAccEffZoom-&gt;cd(1);</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;   TH1D* fh_mc_mom_clone = (TH1D*)<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#af2b44a5f4efc756f9e186b1e49425354">fh_mc_mom_el</a>-&gt;Clone();</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;   TH1D* fh_acc_mom_clone = (TH1D*)<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a359af4e90f871134335223e65019814b">fh_acc_mom_el</a>-&gt;Clone();</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;   fh_mc_mom_clone-&gt;GetXaxis()-&gt;SetRangeUser(0., 3.);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;   fh_acc_mom_clone-&gt;GetXaxis()-&gt;SetRangeUser(0., 3.);</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;   fh_mc_mom_clone-&gt;SetMinimum(0.);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(list_of(fh_mc_mom_clone)(fh_acc_mom_clone), list_of(<span class="stringliteral">&quot;MC&quot;</span>)(<span class="stringliteral">&quot;ACC&quot;</span>), <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#af0de4d576e2e7680b5f7feea90a8f152ac188c019178783e5be55110601309d7d">kLinear</a>, kLog, <span class="keyword">true</span>, 0.8, 0.8, 0.99, 0.99);</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;   gPad-&gt;SetLogy(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;   cAccEffZoom-&gt;cd(2);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;   TH1D* px_eff_clone = (TH1D*) pxEff-&gt;Clone();</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;   px_eff_clone-&gt;GetXaxis()-&gt;SetRangeUser(0., 3.);</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;   px_eff_clone-&gt;SetMinimum(0.);</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(px_eff_clone);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;   <span class="comment">// Draw number vs position onto the photodetector plane</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4c9bb08a7c7f7c811f3ffddfedb3093c">DrawH3</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#afcb0d5d5d051768d7449c35e78ad46dc">fhNofHitsXYZ</a>, <span class="stringliteral">&quot;richgeo_numbers_vs_xy_hits&quot;</span>, <span class="stringliteral">&quot;Number of hits&quot;</span>, 10, 30);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4c9bb08a7c7f7c811f3ffddfedb3093c">DrawH3</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a61d2ad12d6f381fdb2c29987b271363f">fhNofPointsXYZ</a>, <span class="stringliteral">&quot;richgeo_numbers_vs_xy_points&quot;</span>, <span class="stringliteral">&quot;Number of points&quot;</span>, 100., 300.);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4c9bb08a7c7f7c811f3ffddfedb3093c">DrawH3</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a09906f8218cfc80f0a2d0076033e7b4d">fhBoverAXYZ</a>, <span class="stringliteral">&quot;richgeo_numbers_vs_xy_boa&quot;</span>, <span class="stringliteral">&quot;B/A&quot;</span>, 0.75, 1.0);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4c9bb08a7c7f7c811f3ffddfedb3093c">DrawH3</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab0d3c7383ca57bc01bb873255a98e8f8">fhBaxisXYZ</a>, <span class="stringliteral">&quot;richgeo_numbers_vs_xy_b&quot;</span>, <span class="stringliteral">&quot;B [cm]&quot;</span>, 4., 5.);</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4c9bb08a7c7f7c811f3ffddfedb3093c">DrawH3</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a6507222007f4e1f7a161af0003a5c699">fhAaxisXYZ</a>, <span class="stringliteral">&quot;richgeo_numbers_vs_xy_a&quot;</span>, <span class="stringliteral">&quot;A [cm]&quot;</span>, 4.4, 5.7);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4c9bb08a7c7f7c811f3ffddfedb3093c">DrawH3</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a5e415fd249fefa39e4e8df493b0c083d">fhRadiusXYZ</a>, <span class="stringliteral">&quot;richgeo_numbers_vs_xy_r&quot;</span>, <span class="stringliteral">&quot;Radius [cm]&quot;</span>, 4.2, 5.2);</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4c9bb08a7c7f7c811f3ffddfedb3093c">DrawH3</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aca27816a9171cd8fae31e6b3db6a5938">fhdRXYZ</a>, <span class="stringliteral">&quot;richgeo_numbers_vs_xy_dr&quot;</span>, <span class="stringliteral">&quot;dR [cm]&quot;</span>, -.1, .1);</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;   TCanvas *cAccVsMinNofHits = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(<span class="stringliteral">&quot;richgeo_acc_vs_min_nof_hits&quot;</span>, <span class="stringliteral">&quot;richgeo_acc_vs_min_nof_hits&quot;</span>, 600, 600);</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;   TH1D* <a class="code" href="../../d6/d4d/namespaceActs_1_1UnitConstants.html#a3f0102c07cb8f08075e66a7c86894182">h</a> = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a2c3a6bab841f183f0e04ccc30ee2008a" title="Create histogram: RICH detector acceptance vs. minimum required number of hits in ring...">CreateAccVsMinNofHitsHist</a>();</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;   h-&gt;GetXaxis()-&gt;SetRangeUser(0., 40.0);</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a1118f00141bbd2153810d4eff8fba6c0">DrawH1</a>(h);</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a5298982fb23656d383e18d9dee7ab220">DrawH2MeanRms</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a68dadabfcdb979bfcfe966c7300a8676">fhRadiusVsNofHits</a>, <span class="stringliteral">&quot;richgeo_hits_r_vs_nof_hits&quot;</span>);</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a5298982fb23656d383e18d9dee7ab220">DrawH2MeanRms</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a5f3670c2d7721b496d5a45d4fd229de8">fhAaxisVsNofHits</a>, <span class="stringliteral">&quot;richgeo_hits_a_vs_nof_hits&quot;</span>);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a5298982fb23656d383e18d9dee7ab220">DrawH2MeanRms</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab2822e749dffa3e7866e563e4e287255">fhBaxisVsNofHits</a>, <span class="stringliteral">&quot;richgeo_hits_b_vs_nof_hits&quot;</span>);</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;   TCanvas* cHitsRAB = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(<span class="stringliteral">&quot;richgeo_hits_rab&quot;</span>, <span class="stringliteral">&quot;richgeo_hits_rab&quot;</span>, 1500, 600);</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;   cHitsRAB-&gt;Divide(3, 1);</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;   cHitsRAB-&gt;cd(1);</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a6ddf9e9f92bb6915e522d51d19351e12">DrawH1andFit</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a68dadabfcdb979bfcfe966c7300a8676">fhRadiusVsNofHits</a>-&gt;ProjectionY( (<span class="keywordtype">string</span>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a68dadabfcdb979bfcfe966c7300a8676">fhRadiusVsNofHits</a>-&gt;GetName())+ <span class="stringliteral">&quot;_py&quot;</span> ).c_str() ));</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;   cHitsRAB-&gt;cd(2);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a6ddf9e9f92bb6915e522d51d19351e12">DrawH1andFit</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a5f3670c2d7721b496d5a45d4fd229de8">fhAaxisVsNofHits</a>-&gt;ProjectionY( (<span class="keywordtype">string</span>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a5f3670c2d7721b496d5a45d4fd229de8">fhAaxisVsNofHits</a>-&gt;GetName())+ <span class="stringliteral">&quot;_py&quot;</span> ).c_str() ));</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;   cHitsRAB-&gt;cd(3);</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a6ddf9e9f92bb6915e522d51d19351e12">DrawH1andFit</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab2822e749dffa3e7866e563e4e287255">fhBaxisVsNofHits</a>-&gt;ProjectionY( (<span class="keywordtype">string</span>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#ab2822e749dffa3e7866e563e4e287255">fhBaxisVsNofHits</a>-&gt;GetName())+ <span class="stringliteral">&quot;_py&quot;</span> ).c_str() ));</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;}</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;</div>
<div class="line"><a name="l01069"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4c9bb08a7c7f7c811f3ffddfedb3093c"> 1069</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4c9bb08a7c7f7c811f3ffddfedb3093c">CbmRichGeoTest::DrawH3</a>(</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;      TH3D* <a class="code" href="../../d6/d4d/namespaceActs_1_1UnitConstants.html#a3f0102c07cb8f08075e66a7c86894182">h</a>,</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; cName,</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; zAxisTitle,</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      <span class="keywordtype">double</span> zMin,</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;      <span class="keywordtype">double</span> zMax,</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;      <span class="keywordtype">bool</span> doFit)</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;{</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;   <span class="keywordtype">int</span> nBinsX = h-&gt;GetNbinsX();</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;   <span class="keywordtype">int</span> nBinsY = h-&gt;GetNbinsY();</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;   TH2D* h2Mean = (TH2D*)h-&gt;Project3D(<span class="stringliteral">&quot;yx&quot;</span>)-&gt;Clone();</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;   TH2D* h2Rms = (TH2D*)h-&gt;Project3D(<span class="stringliteral">&quot;yx&quot;</span>)-&gt;Clone();</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;   TCanvas *canvas;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;   <span class="keywordflow">if</span> (doFit) canvas = <span class="keyword">new</span> TCanvas (<span class="stringliteral">&quot;fit_func&quot;</span>, <span class="stringliteral">&quot;fit_func&quot;</span>);</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d4/d51/vector__math__inline_8h.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a> = 1; <a class="code" href="../../d4/d51/vector__math__inline_8h.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a> &lt;= nBinsX; <a class="code" href="../../d4/d51/vector__math__inline_8h.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a>++){</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dc/d49/HelixHough__allButKappaRange__sse_8cpp.html#a52f568dc4071de9d9ca4dcc3a1405561">y</a> = 1; <a class="code" href="../../dc/d49/HelixHough__allButKappaRange__sse_8cpp.html#a52f568dc4071de9d9ca4dcc3a1405561">y</a> &lt;= nBinsY; <a class="code" href="../../dc/d49/HelixHough__allButKappaRange__sse_8cpp.html#a52f568dc4071de9d9ca4dcc3a1405561">y</a>++){</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;         stringstream ss;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;         ss &lt;&lt; h-&gt;GetName() &lt;&lt; <span class="stringliteral">&quot;_z_&quot;</span> &lt;&lt; <a class="code" href="../../d4/d51/vector__math__inline_8h.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a> &lt;&lt; <span class="stringliteral">&quot;_&quot;</span> &lt;&lt; <a class="code" href="../../dc/d49/HelixHough__allButKappaRange__sse_8cpp.html#a52f568dc4071de9d9ca4dcc3a1405561">y</a>;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;         TH1D* <a class="code" href="../../dd/d7e/namespaceActs_1_1Test.html#a03e49c2087d3ff25385eb2d4544bc8e8">hz</a> = h-&gt;ProjectionZ(ss.str().c_str(), <a class="code" href="../../d4/d51/vector__math__inline_8h.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a>, <a class="code" href="../../d4/d51/vector__math__inline_8h.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a>, <a class="code" href="../../dc/d49/HelixHough__allButKappaRange__sse_8cpp.html#a52f568dc4071de9d9ca4dcc3a1405561">y</a>, <a class="code" href="../../dc/d49/HelixHough__allButKappaRange__sse_8cpp.html#a52f568dc4071de9d9ca4dcc3a1405561">y</a>);</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;         <span class="keywordtype">double</span> <a class="code" href="../../d6/d4d/namespaceActs_1_1UnitConstants.html#aa0b5dd062eddcdda72af1809b341ab0f">m</a> = 0.;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;         <span class="keywordtype">double</span> <a class="code" href="../../d6/d4d/namespaceActs_1_1UnitConstants.html#af5e223138d35ab82606b8d129728a3a8">s</a> = 0.;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;         <span class="keywordflow">if</span> (doFit) {</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;            hz-&gt;Fit(<span class="stringliteral">&quot;gaus&quot;</span>, <span class="stringliteral">&quot;QO&quot;</span>);</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;            TF1* <a class="code" href="../../d8/d74/dfe__dispatcher_8hpp.html#a0078bd69824fe13ef0cc06f9672d57d7">func</a> = hz-&gt;GetFunction(<span class="stringliteral">&quot;gaus&quot;</span>);</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;            <span class="keywordflow">if</span> (func != NULL) {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;               m = func-&gt;GetParameter(1);</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;               s = func-&gt;GetParameter(2);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;            }</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;         } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;            m = hz-&gt;GetMean();</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;            s = hz-&gt;GetRMS();</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;         }</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;         h2Mean-&gt;SetBinContent(x, y, m);</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;         h2Rms-&gt;SetBinContent(x, y, s);</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      }</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;   }</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;   TCanvas *mean = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(<span class="keywordtype">string</span>(cName+<span class="stringliteral">&quot;_mean&quot;</span>).c_str(), <span class="keywordtype">string</span>(cName+<span class="stringliteral">&quot;_mean&quot;</span>).c_str(), 800, 800);</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;   h2Mean-&gt;GetZaxis()-&gt;SetTitle(<span class="keywordtype">string</span>(<span class="stringliteral">&quot;Mean.&quot;</span>+zAxisTitle).c_str());</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;   h2Mean-&gt;GetZaxis()-&gt;SetRangeUser(zMin, zMax);</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a75ee1eb8d94447c29570960f3941d7e6">DrawH2</a>(h2Mean);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;   TCanvas *rms = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(<span class="keywordtype">string</span>(cName+<span class="stringliteral">&quot;_rms&quot;</span>).c_str(), <span class="keywordtype">string</span>(cName+<span class="stringliteral">&quot;_rms&quot;</span>).c_str(), 800, 800);</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;   h2Rms-&gt;GetZaxis()-&gt;SetTitle(<span class="keywordtype">string</span>(<span class="stringliteral">&quot;RMS.&quot;</span>+zAxisTitle).c_str());</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;   <a class="code" href="../../d2/dc4/CbmDrawHist_8h.html#a75ee1eb8d94447c29570960f3941d7e6">DrawH2</a>(h2Rms);</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;   TCanvas* cHitsRAB = <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CreateCanvas</a>(<span class="keywordtype">string</span>(cName+<span class="stringliteral">&quot;_local_xy&quot;</span>).c_str(), <span class="keywordtype">string</span>(cName+<span class="stringliteral">&quot;_local_xy&quot;</span>).c_str(), 800, 800);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d4/d51/vector__math__inline_8h.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a> = h-&gt;GetXaxis()-&gt;FindBin(20);</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../dc/d49/HelixHough__allButKappaRange__sse_8cpp.html#a52f568dc4071de9d9ca4dcc3a1405561">y</a> = h-&gt;GetYaxis()-&gt;FindBin(120);</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;   cout &lt;&lt; x &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; y &lt;&lt; endl;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;   TH1D* <a class="code" href="../../dd/d7e/namespaceActs_1_1Test.html#a03e49c2087d3ff25385eb2d4544bc8e8">hz</a> = h-&gt;ProjectionZ((<span class="keywordtype">string</span>(h-&gt;GetName())+<span class="stringliteral">&quot;_local_xy&quot;</span>).c_str(), <a class="code" href="../../d4/d51/vector__math__inline_8h.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a>, <a class="code" href="../../d4/d51/vector__math__inline_8h.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a>, <a class="code" href="../../dc/d49/HelixHough__allButKappaRange__sse_8cpp.html#a52f568dc4071de9d9ca4dcc3a1405561">y</a>, <a class="code" href="../../dc/d49/HelixHough__allButKappaRange__sse_8cpp.html#a52f568dc4071de9d9ca4dcc3a1405561">y</a>);</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;   <span class="comment">//if (hz-&gt;GetEntries() &gt; 2) {</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a6ddf9e9f92bb6915e522d51d19351e12">DrawH1andFit</a>(hz);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;   <span class="comment">//}</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;   <span class="keywordflow">if</span> (canvas != NULL) <span class="keyword">delete</span> canvas;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;}</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;</div>
<div class="line"><a name="l01130"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a931eeecdfc710d992d327626f50b242b"> 1130</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a931eeecdfc710d992d327626f50b242b" title="Creates summary report for different simulations. This is just an interface. All functionality is imp...">CbmRichGeoTest::CreateStudyReport</a>(</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="../../df/d6b/title_8f.html#aa5c036d373cd37c00f0892e713b39988">title</a>,</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      <span class="keyword">const</span> vector&lt;string&gt;&amp; fileNames,</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <span class="keyword">const</span> vector&lt;string&gt;&amp; studyNames,</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; outputDir)</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;{</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;   <span class="keywordflow">if</span> (outputDir != <span class="stringliteral">&quot;&quot;</span>) gSystem-&gt;mkdir(outputDir.c_str(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;   <a class="code" href="../../da/db2/classCbmStudyReport.html" title="Base class for study reports.">CbmStudyReport</a>* report = <span class="keyword">new</span> <a class="code" href="../../d2/d9e/classCbmRichGeoTestStudyReport.html" title="Creates study report for RICH geometry testing.">CbmRichGeoTestStudyReport</a>();</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;   fTitle = <a class="code" href="../../df/d6b/title_8f.html#aa5c036d373cd37c00f0892e713b39988">title</a>;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;   cout &lt;&lt; <span class="stringliteral">&quot;Report can be found here: &quot;</span> &lt;&lt; outputDir &lt;&lt; endl;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;   report-&gt;<a class="code" href="../../da/db2/classCbmStudyReport.html#ad5e8cc78ba670c9a288f2ed666e9bbf9" title="Main function which creates report data.">Create</a>(fileNames, studyNames, outputDir);</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;   <span class="keyword">delete</span> report;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;}</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;</div>
<div class="line"><a name="l01145"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a5d93b8f1b66c5d4b3781ef3165abc639"> 1145</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a5d93b8f1b66c5d4b3781ef3165abc639" title="Inherited from FairTask.">CbmRichGeoTest::Finish</a>()</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;{</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a9722e98905bc23a11dfab95ae0baa7bb" title="Draw histograms.">DrawHist</a>();</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;   <span class="keywordflow">for</span> (Int_t i = 0; i &lt; <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#aab738c99d05e9735f97165ab05fd6e48">fHists</a>.size(); i++){</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;   <span class="comment">//   if (NULL != fHists[i]) fHists[i]-&gt;Write();</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;   }</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#af877c43b47721c54ff0ef5e86cb2964e">fhNofHits</a>[0]-&gt;Write();</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#af877c43b47721c54ff0ef5e86cb2964e">fhNofHits</a>[1]-&gt;Write();</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a00b7900df3f72ea4b29f459d931c4cd3">fhNofPhotonsPerHit</a>-&gt;Write();</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a5632c18f863e7849f59cca64ae1f0e36">SaveCanvasToImage</a>();</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;}</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;</div>
<div class="line"><a name="l01157"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a51adb9d45f73f4dbb0dea7806004f9ee"> 1157</a></span>&#160;<span class="keywordtype">string</span> <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a51adb9d45f73f4dbb0dea7806004f9ee" title="Create property tree an store different statistics there.">CbmRichGeoTest::CalcEfficiency</a>(</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;   TH1* histRec,</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;   TH1* histAcc)</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;{</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;   <span class="keywordflow">if</span> (histAcc-&gt;GetEntries() == 0) { <span class="keywordflow">return</span> <span class="stringliteral">&quot;0.0&quot;</span>; }</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;   <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      Double_t eff = Double_t(histRec-&gt;GetEntries()) / Double_t(histAcc-&gt;GetEntries());</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      stringstream ss;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;      ss.precision(3);</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      ss &lt;&lt; eff;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      <span class="keywordflow">return</span> ss.str();</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;   }</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;}</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;</div>
<div class="line"><a name="l01172"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#acd4c8e873b568dbc5a953845e93003a9"> 1172</a></span>&#160;TH1D* <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#acd4c8e873b568dbc5a953845e93003a9" title="Divide two histograms and create third one.">CbmRichGeoTest::DivideH1</a>(</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;   TH1D* <a class="code" href="../../db/d5d/test__style_8C.html#aedb0b6044f079efd2d78c0069775b09d">h1</a>,</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;   TH1D* <a class="code" href="../../db/d5d/test__style_8C.html#ada902c52684cc4a06be8ee60e0027c8f">h2</a>,</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="../../d3/d16/VstRadLength_8C.html#a5ac083a645d964373f022d03df4849c8">name</a>,</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="../../df/d6b/title_8f.html#aa5c036d373cd37c00f0892e713b39988">title</a>,</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; axisX,</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; axisY)</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;{</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;   h1-&gt;Sumw2();</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;   h2-&gt;Sumw2();</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;   TH1D* h3 = <span class="keyword">new</span> TH1D(name.c_str(), string(title +<span class="stringliteral">&quot;;&quot;</span>+axisX+<span class="stringliteral">&quot;;&quot;</span>+ axisY).c_str(),</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                       h1-&gt;GetNbinsX(), h1-&gt;GetXaxis()-&gt;GetXmin(),h1-&gt;GetXaxis()-&gt;GetXmax());</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;   h3-&gt;Divide(h1, h2, 100., 1., <span class="stringliteral">&quot;B&quot;</span>);</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;   <span class="keywordflow">return</span> h3;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;}</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;</div>
<div class="line"><a name="l01188"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a07f93d794c1dec2ab007bdd4d818b44f"> 1188</a></span>&#160;TH2D* <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a07f93d794c1dec2ab007bdd4d818b44f">CbmRichGeoTest::DivideH2</a>(</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;   TH1D* <a class="code" href="../../db/d5d/test__style_8C.html#aedb0b6044f079efd2d78c0069775b09d">h1</a>,</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;   TH1D* <a class="code" href="../../db/d5d/test__style_8C.html#ada902c52684cc4a06be8ee60e0027c8f">h2</a>,</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="../../d3/d16/VstRadLength_8C.html#a5ac083a645d964373f022d03df4849c8">name</a>,</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="../../df/d6b/title_8f.html#aa5c036d373cd37c00f0892e713b39988">title</a>,</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; axisX,</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; axisY,</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; axisZ)</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;{</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;   h1-&gt;Sumw2();</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;   h2-&gt;Sumw2();</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;   TH2D* h3 = <span class="keyword">new</span> TH2D(name.c_str(), string(title +<span class="stringliteral">&quot;;&quot;</span>+axisX+<span class="stringliteral">&quot;;&quot;</span>+ axisY+<span class="stringliteral">&quot;;&quot;</span>+axisZ).c_str(),</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                       h1-&gt;GetNbinsX(), h1-&gt;GetXaxis()-&gt;GetXmin(),h1-&gt;GetXaxis()-&gt;GetXmax(),</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                       h1-&gt;GetNbinsY(), h1-&gt;GetYaxis()-&gt;GetXmin(),h1-&gt;GetYaxis()-&gt;GetXmax());</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;   h3-&gt;Divide(h1, h2, 100., 1., <span class="stringliteral">&quot;B&quot;</span>);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;   <span class="keywordflow">return</span> h3;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;}</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;</div>
<div class="line"><a name="l01206"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739"> 1206</a></span>&#160;TCanvas* <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4f297e0afd8de32e2a56911cbaad5739">CbmRichGeoTest::CreateCanvas</a>(</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="../../d3/d16/VstRadLength_8C.html#a5ac083a645d964373f022d03df4849c8">name</a>,</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="../../df/d6b/title_8f.html#aa5c036d373cd37c00f0892e713b39988">title</a>,</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="../../d4/dad/eicroot_8C.html#a9392a90f93e785e9ed60558fddd33359">width</a>,</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      <span class="keywordtype">int</span> height)</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;{</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;   TCanvas* <a class="code" href="../../d4/d51/vector__math__inline_8h.html#ae0323a9039add2978bf5b49550572c7c">c</a> = <span class="keyword">new</span> TCanvas(name.c_str(), title.c_str(), <a class="code" href="../../d4/dad/eicroot_8C.html#a9392a90f93e785e9ed60558fddd33359">width</a>, height);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;   <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4601a55ffd99cccd70c44e6d3a6a19bf">fCanvas</a>.push_back(c);</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d4/d51/vector__math__inline_8h.html#ae0323a9039add2978bf5b49550572c7c">c</a>;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;}</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;</div>
<div class="line"><a name="l01217"></a><span class="lineno"><a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a5632c18f863e7849f59cca64ae1f0e36"> 1217</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a5632c18f863e7849f59cca64ae1f0e36">CbmRichGeoTest::SaveCanvasToImage</a>()</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;{</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4601a55ffd99cccd70c44e6d3a6a19bf">fCanvas</a>.size(); i++)</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;   {</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <a class="code" href="../../de/d27/namespacelit.html#a7582c057ef6b8cb47fd9518c43e2b611">lit::SaveCanvasAsImage</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a4601a55ffd99cccd70c44e6d3a6a19bf">fCanvas</a>[i], <a class="code" href="../../d5/d75/classCbmRichGeoTest.html#a9aa45df7cd5c4192329deee160fe78a1">fOutputDir</a>);</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;   }</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;}</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;<a class="code" href="../../d5/db4/FairBaseContFact_8cxx.html#a9a58628a02b777c6a2e166100e5b7a81">ClassImp</a>(<a class="code" href="../../d5/d75/classCbmRichGeoTest.html" title="RICH geometry checking and testing.">CbmRichGeoTest</a>)</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->

<!-- start footer part -->
<div id="nav-path" class="navpath">
	<!-- id is needed for treeview function! -->
	<ul>
		<li class="navelem"><a class="el" href="../../dir_d7aa557fabe0dbc710c3133bbb38c9dd.html">EicRoot</a></li><li class="navelem"><a class="el" href="../../dir_6c2f52c7c502fdce4930bf509aa7892f.html">blob</a></li><li class="navelem"><a class="el" href="../../dir_b7851b2c5844943c52ef11ccfc82d757.html">master</a></li><li class="navelem"><a class="el" href="../../dir_ef338b2fc9d5d4ced4f15541f36e4576.html">rich</a></li><li class="navelem"><a class="el" href="../../dir_3d7b87c31a8ad8673b253b11129c49ba.html">qa</a></li><li class="navelem"><a class="el" href="../../de/da9/CbmRichGeoTest_8cxx.html">CbmRichGeoTest.cxx</a></li>
		<li class="footer">
		Built by <a href="mailto:jhuang@bnl.gov">Jin Huang</a></em>.
			updated: <em>Mon Jan 22 2024 12:43:37</em> using <a
			href="http://www.doxygen.org/index.html"> <img class="footer"
				src="../../doxygen.png" alt="doxygen" /></a> 1.8.2 
				with <a href="https://github.com/eic">EIC GitHub integration</a>
		</li>
	</ul>
</div>
</body>
</html>
